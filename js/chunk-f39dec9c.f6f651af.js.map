{"version":3,"sources":["webpack:///./src/components/admin/content/Messages.vue?0156","webpack:///./src/components/admin/content/Messages.vue?35d9","webpack:///src/components/admin/content/Messages.vue","webpack:///./src/components/admin/content/Messages.vue?f9d1","webpack:///./src/components/admin/content/Messages.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","item","key","on","$event","getAllMessageFrom","FromUserID","FirstName","staticStyle","Icon","_s","MiddleName","LastName","messageFromName","messages","length","class","ToUserID","userDetails","AccountID","Message","TimeStamp","split","_e","model","value","callback","$$v","message","expression","setMessageBy","staticRenderFns","components","data","messagesFromList","messageFromID","timeInterval","methods","getMessageFrom","request","http","fromUserID","getAllMessageFromRefresh","createTime","Status","scrollToBottom","container","document","querySelector","scrollHeight","scrollTop","currtime","props","updated","created","JSON","parse","localStorage","getItem","mounted","clearInterval","destroyed","component"],"mappings":"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","file":"js/chunk-f39dec9c.f6f651af.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"messages\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('div',{staticClass:\"grid-content bg-purple message-f-f\"},[_c('div',{staticClass:\"message-list\"},[_c('div',{staticClass:\"list-header\"},[_vm._v(\"Message List\")]),_c('div',{staticClass:\"list-body\"},[_c('ul',_vm._l((_vm.messagesFromList),function(item,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.getAllMessageFrom(\n                    item.FromUserID,\n                    item.FirstName,\n                    item.FromUserID\n                  )}}},[_c('el-image',{staticStyle:{\"width\":\"40px\",\"height\":\"40px\",\"border\":\"1px solid #ccc\",\"border-radius\":\"50%\"},attrs:{\"src\":item.Icon,\"fit\":\"cover\"}}),_c('span',[_vm._v(_vm._s(item.FirstName + \" \" + item.MiddleName + \" \" + item.LastName))])],1)}),0)])])])]),_c('el-col',{attrs:{\"span\":17}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('div',{staticClass:\"body-message\"},[_c('div',{staticClass:\"name\"},[_c('h4',[_vm._v(_vm._s(_vm.messageFromName))])]),_c('div',{staticClass:\"body-message-wrapper\"},[_c('div',{staticClass:\"messages-list\"},[(_vm.messages.length > 0)?_c('ul',{staticClass:\"chat-wrapper\"},_vm._l((_vm.messages),function(item,key){return _c('li',{key:key,staticClass:\"messages-item\",class:item.ToUserID == _vm.userDetails.AccountID\n                      ? 'pos-left'\n                      : 'pos-right'},[_c('div',{staticClass:\"messages-item-wrapper\"},[_c('p',[_vm._v(_vm._s(item.Message))]),_c('div',{staticClass:\"dt\"},[_c('span',[_vm._v(_vm._s(item.TimeStamp.split(\" \")[0]))]),_c('span',[_vm._v(_vm._s(item.TimeStamp.split(\" \")[1] + \" \" + item.TimeStamp.split(\" \")[2]))])])])])}),0):_vm._e()])])]),_c('div',{staticClass:\"footer-message\"},[_c('div',{staticClass:\"input-f\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"Please input message\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('div',{staticClass:\"button-f\"},[_c('el-image',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC6FBMVEX////+/v79/f3c3Nza2trb29ve3t7d3d38+/zX19f6+vra2tra2tra2tra2tra2tra2tra2tra2tra2tra2trb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nze3t7d3d3d3d3c3Nzc3Nzc3Nzc3Nze3t7e3t7e3t7c3Nzc3Nzc3Nzc3Nze3t7e3t7c3Nzc3Nze3t7e3t7c3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nze3t7X19fc3Nzc3Nze3t7c3Nzc3Nzc3Nze3t7c3Nzc3Nze3t7X19fc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3d3d3c3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nza2trb29vc3Nzd3d3e3t7X19f////1XJ3wAAAA8XRSTlMAAAAAAAAAAAAAAAFClbinP0DN/DYqs2odnf0/EIj2/g8Gc+vdAlzhrUjOfTK8TCKm/hsUkPnqCnvwugRl5opR1Vk5xSmu9AMZmfvi9ccOhNSXBm7rZgHb1jTuNkLM2L78CTC32Rp1HqL92qMTjPjcHHMJdu/dHZJDAmLh3h5GE0vU4B84vyGxJKv+Y4AXlfrj81AMf+QlyCBq5+UmflQnNz/ojhuy6SqcXg7bKy1lLuz3Vy/LBrZsmwJY9msYw+8zzzpwxnRBI3jPEKgmfdTxpXcrgNg7WkepPcB4tjERSfhg8qRik9+fVnFXds0+0m2hZzI+ugAAAAFiS0dEAIgFHUgAAAAHdElNRQfkChAJNi2YukqFAAAAAW9yTlQBz6J3mgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMC0xNlQwOTo1NDo0NSswMDowMJSX2J4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTAtMTZUMDk6NTQ6NDMrMDA6MDCGGlUYAAADtElEQVRYw+3WZ1gTMRgHcDAW3HvvhRMHVZGCyhBFLYoyqqAyHeAE90bFgQMXDsQ9cU8UVATFvXHvvbeS1s+m7dVe75LrXe/weXye/j9xIe+PkKZvzsbGGmus+XexRSlEi/ZZMhwwIuG6CzNSEHTxEiVLlS5TEHTZcr9QyleQkJbpUrFSvj6VJaarVK1GyfnVRVDMEyGT1ahZywDn164j4qQw6br16ucb00AmGe3QsBGkp7GY820iN2kKTdNMItqxOWSmhSR0y1ZOLBnKJaBbt2nLhqGzqF6iq2vnooC4uAqiATtu7TtAfDqKpN09ICmeomivTpAcbxG0d2cOGHbxsZju2q07i1P6Gn/uIey2MU7u6deFvdBerrSH3pbR/gGBmC3wCKA/BVlCqzz74Da3b3AI/bEfP9pOF3sUNK//AOzHFioPoz+GRwimI6PwB2LgoMGm+w4E0kOiY/DyUHmkaR8ZJowePmIk4RCPio1gfC3jhNCjx4xVq/HyuPFgAmNoIn960uQpajWBnjoNTGf263je9IyZGg2JnpUA4pntTwkIdCEGPXuORkOkG80FgNVN5pHoIsCuqPEXifMXqPXBrVnZEoCFrNFFJLoYjU5avASqyfTSRPS3l7GGl5unk1doy8j0ylXoolnNHk8xR7utSdVNJNJr16FZ69lyCOCmVRsMbYhEp25EdZvYfRuGcdObe/ydSaC3aO+oZFwb3MpFb9tOm4mnd6Rpy3bijs0uDnr3HmiOdt6rrXLHyXAfB73/tzna+YC2qOtBnHzIjYM+bI4OPKK7cKKwi04HHPTRY9z0wUhdTQZWhplctN3xE2HhZDrEUVeSdhJPZ3HS6FyfysiOwdM5p3UV/mfwMsw1R6PEnj3nxKYVwfqKjgQ5JplM0ztfwvl0Bq2g3gMuEO5JGAr40SgXL12m0Qov/egVJUGGVzlo5lVgb3/t+g2KvmnYyDySDG9x0LYsGuX2nbuobNk9avp9ogwfcNA2OBpl88OcR4aPIIdMJ1lAo/NGTfZ5TJY7AItoQ56QZfhUFP2sLQftJ4p+HjeKTG8QtyHA4cW8lwQ6UQjNDPWdeRW1BCO/VomiVbn6pcUH0fojlWwgin6D3m2i387Vlhn7I5V34mhKef/ho/a/j/20mvaiel8SGuWzvjjly1dqwDlCIjr829/6VS7f0YDvdCAN7dTehNgXkCUHEtFnAa9YQLvwky2g/XjKwuk2fGXBdKaqoOg8H96yIPqH8qcAWXjn+99oa6yxpoDzB32sVcYsHekFAAAAWmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAAhMAAwAAAAEAAQAAAAAAAAAAAEgAAAABAAAASAAAAAEfUvc0AAAAAElFTkSuQmCC\",\"fit\":\"cover\"},on:{\"click\":function($event){return _vm.setMessageBy()}}})],1)])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"messages\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"7\">\r\n        <div class=\"grid-content bg-purple message-f-f\">\r\n          <div class=\"message-list\">\r\n            <div class=\"list-header\">Message List</div>\r\n            <div class=\"list-body\">\r\n              <ul>\r\n                <li\r\n                  v-for=\"(item, key) in messagesFromList\"\r\n                  :key=\"key\"\r\n                  @click=\"\r\n                    getAllMessageFrom(\r\n                      item.FromUserID,\r\n                      item.FirstName,\r\n                      item.FromUserID\r\n                    )\r\n                  \"\r\n                >\r\n                  <el-image\r\n                    style=\"width: 40px; height: 40px; border: 1px solid #ccc; border-radius: 50%;\"\r\n                    :src=\"item.Icon\"\r\n                    fit=\"cover\"\r\n                  ></el-image>\r\n                  <span>{{\r\n                    item.FirstName + \" \" + item.MiddleName + \" \" + item.LastName\r\n                  }}</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"17\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <div class=\"body-message\">\r\n            <div class=\"name\">\r\n              <h4>{{ messageFromName }}</h4>\r\n            </div>\r\n            <div class=\"body-message-wrapper\">\r\n              <div class=\"messages-list\">\r\n                <ul v-if=\"messages.length > 0\" class=\"chat-wrapper\">\r\n                  <li\r\n                    v-for=\"(item, key) in messages\"\r\n                    :key=\"key\"\r\n                    class=\"messages-item\"\r\n                    :class=\"\r\n                      item.ToUserID == userDetails.AccountID\r\n                        ? 'pos-left'\r\n                        : 'pos-right'\r\n                    \"\r\n                  >\r\n                    <div class=\"messages-item-wrapper\">\r\n                      <p>{{ item.Message }}</p>\r\n                      <div class=\"dt\">\r\n                        <span>{{ item.TimeStamp.split(\" \")[0] }}</span>\r\n                        <span>{{\r\n                          item.TimeStamp.split(\" \")[1] +\r\n                            \" \" +\r\n                            item.TimeStamp.split(\" \")[2]\r\n                        }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"footer-message\">\r\n            <div class=\"input-f\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                :rows=\"2\"\r\n                placeholder=\"Please input message\"\r\n                v-model=\"message\"\r\n              >\r\n              </el-input>\r\n            </div>\r\n            <div class=\"button-f\">\r\n              <el-image\r\n                style=\"width: 50px; height: 50px\"\r\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC6FBMVEX////+/v79/f3c3Nza2trb29ve3t7d3d38+/zX19f6+vra2tra2tra2tra2tra2tra2tra2tra2tra2tra2trb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nze3t7d3d3d3d3c3Nzc3Nzc3Nzc3Nze3t7e3t7e3t7c3Nzc3Nzc3Nzc3Nze3t7e3t7c3Nzc3Nze3t7e3t7c3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nze3t7X19fc3Nzc3Nze3t7c3Nzc3Nzc3Nze3t7c3Nzc3Nze3t7X19fc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3d3d3c3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nza2trb29vc3Nzd3d3e3t7X19f////1XJ3wAAAA8XRSTlMAAAAAAAAAAAAAAAFClbinP0DN/DYqs2odnf0/EIj2/g8Gc+vdAlzhrUjOfTK8TCKm/hsUkPnqCnvwugRl5opR1Vk5xSmu9AMZmfvi9ccOhNSXBm7rZgHb1jTuNkLM2L78CTC32Rp1HqL92qMTjPjcHHMJdu/dHZJDAmLh3h5GE0vU4B84vyGxJKv+Y4AXlfrj81AMf+QlyCBq5+UmflQnNz/ojhuy6SqcXg7bKy1lLuz3Vy/LBrZsmwJY9msYw+8zzzpwxnRBI3jPEKgmfdTxpXcrgNg7WkepPcB4tjERSfhg8qRik9+fVnFXds0+0m2hZzI+ugAAAAFiS0dEAIgFHUgAAAAHdElNRQfkChAJNi2YukqFAAAAAW9yTlQBz6J3mgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMC0xNlQwOTo1NDo0NSswMDowMJSX2J4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTAtMTZUMDk6NTQ6NDMrMDA6MDCGGlUYAAADtElEQVRYw+3WZ1gTMRgHcDAW3HvvhRMHVZGCyhBFLYoyqqAyHeAE90bFgQMXDsQ9cU8UVATFvXHvvbeS1s+m7dVe75LrXe/weXye/j9xIe+PkKZvzsbGGmus+XexRSlEi/ZZMhwwIuG6CzNSEHTxEiVLlS5TEHTZcr9QyleQkJbpUrFSvj6VJaarVK1GyfnVRVDMEyGT1ahZywDn164j4qQw6br16ucb00AmGe3QsBGkp7GY820iN2kKTdNMItqxOWSmhSR0y1ZOLBnKJaBbt2nLhqGzqF6iq2vnooC4uAqiATtu7TtAfDqKpN09ICmeomivTpAcbxG0d2cOGHbxsZju2q07i1P6Gn/uIey2MU7u6deFvdBerrSH3pbR/gGBmC3wCKA/BVlCqzz74Da3b3AI/bEfP9pOF3sUNK//AOzHFioPoz+GRwimI6PwB2LgoMGm+w4E0kOiY/DyUHmkaR8ZJowePmIk4RCPio1gfC3jhNCjx4xVq/HyuPFgAmNoIn960uQpajWBnjoNTGf263je9IyZGg2JnpUA4pntTwkIdCEGPXuORkOkG80FgNVN5pHoIsCuqPEXifMXqPXBrVnZEoCFrNFFJLoYjU5avASqyfTSRPS3l7GGl5unk1doy8j0ylXoolnNHk8xR7utSdVNJNJr16FZ69lyCOCmVRsMbYhEp25EdZvYfRuGcdObe/ydSaC3aO+oZFwb3MpFb9tOm4mnd6Rpy3bijs0uDnr3HmiOdt6rrXLHyXAfB73/tzna+YC2qOtBnHzIjYM+bI4OPKK7cKKwi04HHPTRY9z0wUhdTQZWhplctN3xE2HhZDrEUVeSdhJPZ3HS6FyfysiOwdM5p3UV/mfwMsw1R6PEnj3nxKYVwfqKjgQ5JplM0ztfwvl0Bq2g3gMuEO5JGAr40SgXL12m0Qov/egVJUGGVzlo5lVgb3/t+g2KvmnYyDySDG9x0LYsGuX2nbuobNk9avp9ogwfcNA2OBpl88OcR4aPIIdMJ1lAo/NGTfZ5TJY7AItoQ56QZfhUFP2sLQftJ4p+HjeKTG8QtyHA4cW8lwQ6UQjNDPWdeRW1BCO/VomiVbn6pcUH0fojlWwgin6D3m2i387Vlhn7I5V34mhKef/ho/a/j/20mvaiel8SGuWzvjjly1dqwDlCIjr829/6VS7f0YDvdCAN7dTehNgXkCUHEtFnAa9YQLvwky2g/XjKwuk2fGXBdKaqoOg8H96yIPqH8qcAWXjn+99oa6yxpoDzB32sVcYsHekFAAAAWmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAAhMAAwAAAAEAAQAAAAAAAAAAAEgAAAABAAAASAAAAAEfUvc0AAAAAElFTkSuQmCC\"\r\n                @click=\"setMessageBy()\"\r\n                fit=\"cover\"\r\n              ></el-image>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      message: \"\",\r\n      messagesFromList: [],\r\n      messages: [],\r\n      userDetails: {},\r\n      messageFromName: \"\",\r\n      messageFromID: \"\",\r\n      timeInterval: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getMessageFrom() {\r\n      let params = {\r\n        request: 6,\r\n        data: {\r\n          ToUserID: this.userDetails.AccountID //temporary id\r\n        }\r\n      };\r\n      this.http\r\n        .post(this.api.MessageService, params)\r\n        .then(response => {\r\n          this.messagesFromList = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getAllMessageFrom(messageFromID, messageFromName, fromUserID) {\r\n      this.messageFromID = messageFromID;\r\n      this.messageFromName = messageFromName;\r\n      this.messages = [];\r\n      let params = {\r\n        request: 2,\r\n        data: {\r\n          ToUserID: this.userDetails.AccountID, //temporary id\r\n          FromUserID: fromUserID\r\n        }\r\n      };\r\n      this.http\r\n        .post(this.api.MessageService, params)\r\n        .then(response => {\r\n          this.messages = response.data;\r\n          if (this.messages.length > 0) {\r\n            this.scrollToBottom();\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n\r\n        this.timeInterval = setInterval(() => {\r\n          this.http\r\n            .post(this.api.MessageService, params)\r\n            .then(response => {\r\n              this.messages = response.data;\r\n              if (this.messages.length > 0) {\r\n                this.scrollToBottom();\r\n              }\r\n            })\r\n            .catch(error => {\r\n              console.log(error);\r\n            });\r\n        }, 6000)\r\n    },\r\n    getAllMessageFromRefresh(fromUserID) {\r\n      this.messages = [];\r\n      let params = {\r\n        request: 2,\r\n        data: {\r\n          ToUserID: this.userDetails.AccountID, //temporary id\r\n          FromUserID: fromUserID\r\n        }\r\n      };\r\n      this.http\r\n        .post(this.api.MessageService, params)\r\n        .then(response => {\r\n          this.messages = response.data;\r\n          if (this.messages.length > 0) {\r\n            this.scrollToBottom();\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    setMessageBy() {\r\n      if (this.message) {\r\n        let params = {\r\n          request: 3,\r\n          data: {\r\n            ToUserID: this.messageFromID,\r\n            FromUserID: this.userDetails.AccountID,\r\n            Message: this.message,\r\n            TimeStamp: this.createTime(),\r\n            Status: 1\r\n          }\r\n        };\r\n        this.http\r\n          .post(this.api.MessageService, params)\r\n          .then(response => {\r\n            if (response.data.State == 1) {\r\n              this.message = \"\";\r\n              this.getAllMessageFromRefresh(this.messageFromID);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    scrollToBottom() {\r\n      var container = document.querySelector(\".chat-wrapper\");\r\n      var scrollHeight = container.scrollHeight;\r\n      container.scrollTop = scrollHeight;\r\n    },\r\n    createTime() {\r\n      let today = new Date();\r\n      let currdate =\r\n        today.getFullYear() +\r\n        \"-\" +\r\n        (today.getMonth() + 1 < 10\r\n          ? \"0\" + (today.getMonth() + 1)\r\n          : today.getMonth() + 1) +\r\n        \"-\" +\r\n        (today.getDate() < 10 ? \"0\" + today.getDate() : today.getDate());\r\n      let currHour =\r\n        today.getHours() < 10 ? \"0\" + today.getHours() : today.getHours();\r\n      let currMinutes =\r\n        today.getMinutes() < 10 ? \"0\" + today.getMinutes() : today.getMinutes();\r\n      let currSeconds =\r\n        today.getSeconds() < 10 ? \"0\" + today.getSeconds() : today.getSeconds();\r\n      let timePeriod = today.getHours() < 13 ? \"AM\" : \"PM\";\r\n      let currtime =\r\n        currdate +\r\n        \" \" +\r\n        currHour +\r\n        \":\" +\r\n        currMinutes +\r\n        \":\" +\r\n        currSeconds +\r\n        \" \" +\r\n        timePeriod;\r\n      return currtime;\r\n    }\r\n  },\r\n  props: {},\r\n  updated() {\r\n    if (this.messages.length > 0) {\r\n      this.scrollToBottom();\r\n    }\r\n  },\r\n  created() {\r\n    this.userDetails = JSON.parse(localStorage.getItem(\"user\"));\r\n  },\r\n  mounted() {\r\n    this.getMessageFrom();\r\n    clearInterval(this.timeInterval)\r\n  },\r\n  destroyed() {\r\n    clearInterval(this.timeInterval)\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.messages {\r\n  height: 100%;\r\n  .el-row {\r\n    height: 100%;\r\n  }\r\n  .grid-content.message-f-f {\r\n    height: 450px;\r\n  }\r\n  .grid-content {\r\n    border: 1px solid #ccc;\r\n    // box-shadow: 0px 1px 3px 0px rgb(0 0 0 / 25%);\r\n    height: 550px;\r\n    border-radius: 3px;\r\n\r\n    .message-list {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      max-height: 450px;\r\n      .list-header {\r\n        border-bottom: 1px solid #ccc;\r\n        height: 30px;\r\n        line-height: 30px;\r\n      }\r\n      .list-body {\r\n        height: calc(100% - 30px);\r\n        overflow: hidden;\r\n      }\r\n      .list-body ul {\r\n        height: 100%;\r\n        overflow-y: auto;\r\n        padding: 5px 5px;\r\n      }\r\n      .list-body ul li {\r\n        text-align: left;\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 10px;\r\n        span {\r\n          font-size: 13px;\r\n        }\r\n      }\r\n\r\n      .list-body ul li span {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n\r\n    .body-message {\r\n      height: calc(100% - 80px);\r\n      overflow: hidden;\r\n      .name {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        border-bottom: 1px solid #ccc;\r\n      }\r\n      .messages-list {\r\n        height: 100%;\r\n        overflow: hidden;\r\n        padding: 10px 10px;\r\n      }\r\n      .messages-list ul {\r\n        height: 100%;\r\n        overflow-y: auto;\r\n        padding-bottom: 50px;\r\n      }\r\n\r\n      .messages-list ul li {\r\n        margin-bottom: 10px;\r\n      }\r\n      .messages-item {\r\n        text-align: left;\r\n        .messages-item-wrapper {\r\n          border: 1px solid #ccc;\r\n          overflow: hidden;\r\n          width: 60%;\r\n          padding: 10px 10px;\r\n          border-radius: 15px;\r\n        }\r\n        .messages-item-wrapper p {\r\n          word-break: break-all;\r\n          padding-bottom: 10px;\r\n        }\r\n        .messages-item-wrapper .dt {\r\n          span {\r\n            display: block;\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .messages-item.pos-right {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n\r\n        .messages-item-wrapper {\r\n          border-bottom-right-radius: 0px;\r\n          background: #409EFF;\r\n        }\r\n\r\n        p {\r\n          color: #fff;\r\n        }\r\n        span {\r\n          text-align: right;\r\n          color: #fff;\r\n        }\r\n      }\r\n\r\n      .messages-item.pos-left {\r\n        .messages-item-wrapper {\r\n          border-bottom-left-radius: 0px;\r\n          background: #DCDFE6;\r\n        }\r\n        p {\r\n          color: #000;\r\n        }\r\n        span {\r\n          text-align: left;\r\n          color: #000;\r\n        }\r\n      }\r\n    }\r\n    .body-message .body-message-wrapper {\r\n      height: 100%;\r\n      overflow: hidden;\r\n    }\r\n    .footer-message {\r\n      border-top: 1px solid #ccc;\r\n      height: 80px;\r\n      display: flex;\r\n    }\r\n    .footer-message .input-f {\r\n      flex: 8;\r\n      padding: 10px;\r\n    }\r\n    .footer-message .button-f {\r\n      flex: 1;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=51782f93&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}