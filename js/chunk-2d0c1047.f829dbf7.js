(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1047"],{"43f8":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-login"},[s("div",{staticClass:"login-wrapper"},[e._m(0),s("div",{staticClass:"login-form"},[s("div",{staticClass:"user-select"},[s("van-grid",{attrs:{"column-num":2,gutter:30}},e._l(e.userType,(function(t,r){return s("van-grid-item",{key:r,class:t==e.currentUserType?"active":null,attrs:{icon:"photo-o",text:t},on:{click:function(t){return e.selectUser(r)}}})})),1)],1),s("van-form",{on:{submit:function(t){return e.login()}}},[s("van-field",{attrs:{name:"Username",label:"Account ID",placeholder:"Enter Account ID",rules:[{required:!0,message:"Username is required"}]},model:{value:e.userDetails.userID,callback:function(t){e.$set(e.userDetails,"userID",t)},expression:"userDetails.userID"}}),s("van-field",{attrs:{type:"password",name:"Password",label:"Password",placeholder:"Enter password",rules:[{required:!0,message:"Password is required"}]},model:{value:e.userDetails.password,callback:function(t){e.$set(e.userDetails,"password",t)},expression:"userDetails.password"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(" Login ")])],1)],1),s("div",{staticClass:"other-options"},[s("div",{on:{click:function(t){return e.goPage("ForgotPassword")}}},[e._v("Forgot Password?")]),s("div",{on:{click:function(t){return e.goPage("Register")}}},[e._v("Register")])])],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-banner"},[s("h2",[e._v("STUDENT PORTAL")]),s("h3",[e._v("MOBILE APP")])])}],n=s("d399"),i={name:"UserLogin",components:{},data:function(){return{username:"",password:"",activeUser:0,userType:["Student","Parent"],userDetails:{username:"",userID:"",password:""}}},methods:{selectUser:function(e){this.activeUser=e,this.$store.dispatch("setUserType",this.userType[this.activeUser])},login:function(){var e=this,t={request:2,data:{AccountID:this.userDetails.userID,AccountPassword:this.userDetails.password}};this.http.post(0==this.activeUser?this.api.StudentService:this.api.ParentService,t).then((function(t){t.data.length>0?(e.$store.dispatch("setUserDetails",t.data[0]),localStorage.setItem("user",JSON.stringify(t.data[0])),localStorage.setItem("isLogin",!0),e.$store.dispatch("setLogin",!0),e.goPage("UserHome")):Object(n["a"])("Invalid Account")})).catch((function(e){Object(n["a"])("Connection Error"),console.log(e)}))},goPage:function(e){this.$router.push({name:e})}},computed:{currentUserType:function(){return this.$store.state.userType}}},o=i,c=s("2877"),u=Object(c["a"])(o,r,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0c1047.f829dbf7.js.map