(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b13112f6"],{"0224":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-grades"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"370"}},[r("el-table-column",{attrs:{prop:"SubjectID",label:"Subject",width:"120"}}),r("el-table-column",{attrs:{label:"Grading Period"}},[r("el-table-column",{attrs:{prop:"FirstGrade",label:"1",width:"80"}}),r("el-table-column",{attrs:{prop:"SecondGrade",label:"2",width:"80"}}),r("el-table-column",{attrs:{prop:"ThirdGrade",label:"3",width:"80"}}),r("el-table-column",{attrs:{prop:"FourthGrade",label:"4",width:"80"}})],1),r("el-table-column",{attrs:{prop:"OverAllGrade",label:"Final Grade",width:"80"}}),r("el-table-column",{attrs:{prop:"Remarks",label:"Remarks",width:"120"}}),r("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},nativeOn:{click:function(r){return r.preventDefault(),e.operationAction("Edit",e.tableData[t.$index])}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},nativeOn:{click:function(r){return r.preventDefault(),e.operationAction("Delete",e.tableData[t.$index])}}})]}}])})],1),r("el-dialog",{attrs:{title:"Delete Grade",visible:e.showDeleteGrade,width:"20%","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px"},on:{"update:visible":function(t){e.showDeleteGrade=t}}},[r("span",[e._v("Are you sure you want to delete?")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDeleteGrade=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteData()}}},[e._v("Delete")])],1)]),e.showUpdateGrade?r("UpdateGrade",{attrs:{studentData:e.gradeData,showUpdateGrade:e.showUpdateGrade},on:{updateData:e.updateData,closeUpdateGrade:function(t){return e.closeUpdateGrade(t)}}}):e._e()],1)},n=[],o=[{propName:"SubjectID",propLabel:"Subject",width:"200"},{propName:"FirstGrade",propLabel:"First Grading",width:"120"},{propName:"SecondGrade",propLabel:"Second Grading",width:"120"},{propName:"ThirdGrade",propLabel:"Third Grading",width:"120"},{propName:"FourthGrade",propLabel:"Fourth Grading",width:"120"},{propName:"OverAllGrade",propLabel:"Over All Grade",width:"120"},{propName:"Remarks",propLabel:"Remarks",width:"120"},{propName:"TeacherID",propLabel:"Teacher",width:"220"}],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.showUpdateGrade,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(t){e.showUpdateGrade=t}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Update Grade ")]},proxy:!0}])},[r("div",{staticClass:"add-course-content"},[r("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:e.ruleForm,"label-width":"130px","status-icon":"",rules:e.rules}},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("Grade Details")]),r("div",{staticClass:"form-item-account-details"},[r("el-form-item",{attrs:{label:"Subject:"}},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectSubject}},[r("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.currentSubject)+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.subjectList,(function(t,a){return r("el-dropdown-item",{key:a,attrs:{command:t}},[e._v(" "+e._s(t.Title)+" ")])})),1)],1)],1),r("el-form-item",{attrs:{label:"First Grading:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:e.studentData.FirstGrade,callback:function(t){e.$set(e.studentData,"FirstGrade",t)},expression:"studentData.FirstGrade"}})],1),r("el-form-item",{attrs:{label:"Second Grading:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:e.studentData.SecondGrade,callback:function(t){e.$set(e.studentData,"SecondGrade",t)},expression:"studentData.SecondGrade"}})],1),r("el-form-item",{attrs:{label:"Third Grading:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:e.studentData.ThirdGrade,callback:function(t){e.$set(e.studentData,"ThirdGrade",t)},expression:"studentData.ThirdGrade"}})],1),r("el-form-item",{attrs:{label:"Fourth Grading:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:e.studentData.FourthGrade,callback:function(t){e.$set(e.studentData,"FourthGrade",t)},expression:"studentData.FourthGrade"}})],1),r("el-form-item",{attrs:{label:"Teacher:"}},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectTeacher}},[r("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.currentTeacher)+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.teacherList,(function(t,a){return r("el-dropdown-item",{key:a,attrs:{command:t}},[e._v(" "+e._s(t.Name)+" ")])})),1)],1)],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)])},s=[],d=(r("4de4"),r("a9e3"),r("96cf"),r("1da1")),c={components:{},data:function(){var e=function(e,t,r){""===t?r(new Error("Please input the grade")):r()};return{rules:{currGrade:[{validator:e,trigger:"blur"}]},ruleForm:{StudentID:"",SubjectID:"",Quarter:"",Grade:"",FirstGrade:"",SecondGrade:"",ThirdGrade:"",FourthGrade:"",OverAllGrade:"",Remarks:"",TeacherID:""},currentTeacher:"---Select---",currentSubject:"---Select---",currentGradingPeriod:"---Select---",currentGrade:"",teacherList:[],subjectList:[],gradingPeriodList:[]}},methods:{closeDialog:function(){this.currentGradingPeriod="---Select---",this.currentTeacher="---Select---",this.currentSubject="---Select---",this.$emit("closeUpdateGrade",!1),this.$emit("updateData"),this.$refs.ruleForm.resetFields()},selectTeacher:function(e){this.currentTeacher=e.Name},selectSubject:function(e){this.currentSubject=e.Title},selectGradingPeriod:function(e){this.currentGradingPeriod=e.Title,this.ruleForm.Quarter=e.Title},save:function(){var e=this,t={request:4,data:{ID:this.studentData.ID,StudentID:this.studentData.StudentID,SubjectID:this.parseSubject(this.currentSubject),FirstGrade:Number(this.studentData.FirstGrade?this.studentData.FirstGrade:0),SecondGrade:Number(this.studentData.SecondGrade?this.studentData.SecondGrade:0),ThirdGrade:Number(this.studentData.ThirdGrade?this.studentData.ThirdGrade:0),FourthGrade:Number(this.studentData.FourthGrade?this.studentData.FourthGrade:0),OverAllGrade:this.computeOverALL(this.studentData),Remarks:this.computeRemarks(this.studentData),TeacherID:this.parseTeacher(this.currentTeacher)}};this.http.post(this.api.AdminGradingService,t).then((function(t){1==t.data.State?(e.$emit("updateData"),e.$message({type:"success",message:t.data.Message})):e.$message({type:"warning",message:t.data.Message})})).catch((function(e){console.log(e)}))},parseSubject:function(e){var t=this.subjectList.filter((function(t){if(t.Title==e)return t}))[0].ID;return t},parseTeacher:function(e){var t=this.teacherList.filter((function(t){if(t.Name==e)return t}))[0].AccountID;return t},computeOverALL:function(e){var t=Number(e.FirstGrade?e.FirstGrade:0),r=Number(e.SecondGrade?e.SecondGrade:0),a=Number(e.ThirdGrade?e.ThirdGrade:0),n=Number(e.FourthGrade?e.FourthGrade:0),o=(t+r+a+n)/4;return o},computeRemarks:function(e){var t=Number(e.FirstGrade?e.FirstGrade:0),r=Number(e.SecondGrade?e.SecondGrade:0),a=Number(e.ThirdGrade?e.ThirdGrade:0),n=Number(e.FourthGrade?e.FourthGrade:0),o=(t+r+a+n)/4;return o>=75?"Passed":"Failed"},getAllTeacher:function(){var e=this,t={request:1,data:{}};this.http.post(this.api.TeacherService,t).then((function(t){e.teacherList=t.data})).catch((function(e){console.log(e)}))},getAllSubject:function(){var e=this,t={request:1,data:{}};this.http.post(this.api.SubjectService,t).then((function(t){e.subjectList=t.data})).catch((function(e){console.log(e)}))}},props:{showUpdateGrade:{type:Boolean,default:!1},studentData:{type:Object,default:function(){return{}}}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllTeacher();case 2:return t.next=4,e.getAllSubject();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){console.log(this.studentData),this.currentSubject=this.studentData.SubjectID,this.currentTeacher=this.studentData.TeacherID}},u=c,l=(r("a311"),r("2877")),p=Object(l["a"])(u,i,s,!1,null,null,null),h=p.exports,f={components:{UpdateGrade:h},data:function(){return{tableProps:o,gradeData:{},showDeleteGrade:!1,showUpdateGrade:!1}},methods:{operationAction:function(e,t){switch(this.gradeData=t,e){case"Edit":this.showUpdateGrade=!0;break;case"Delete":this.showDeleteGrade=!0;break;default:console.log("Invalid Option")}},deleteData:function(){var e=this,t={request:5,data:{ID:this.gradeData.ID}};this.http.post(this.api.AdminGradingService,t).then((function(t){1==t.data.State?(e.showDeleteGrade=!1,e.$emit("updateData"),e.$message({type:"success",message:t.data.Message})):e.$message({type:"warning",message:t.data.Message})})).catch((function(e){console.log(e)}))},updateData:function(){this.$emit("updateData")},closeUpdateGrade:function(e){this.showUpdateGrade=e}},props:{tableData:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){}},b=f,m=(r("60e1"),Object(l["a"])(b,a,n,!1,null,null,null));t["default"]=m.exports},"1dde":function(e,t,r){var a=r("d039"),n=r("b622"),o=r("2d00"),i=n("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2b64":function(e,t,r){},"3f88":function(e,t,r){},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,o=r("1dde"),i=r("ae40"),s=o("filter"),d=i("filter");a({target:"Array",proto:!0,forced:!s||!d},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"60e1":function(e,t,r){"use strict";r("2b64")},"65f0":function(e,t,r){var a=r("861d"),n=r("e8b5"),o=r("b622"),i=o("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},a311:function(e,t,r){"use strict";r("3f88")},ae40:function(e,t,r){var a=r("83ab"),n=r("d039"),o=r("5135"),i=Object.defineProperty,s={},d=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var r=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:d,l=o(t,1)?t[1]:void 0;return s[e]=!!r&&!n((function(){if(c&&!a)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:d}):e[1]=1,r.call(e,u,l)}))}},b727:function(e,t,r){var a=r("0366"),n=r("44ad"),o=r("7b0b"),i=r("50c4"),s=r("65f0"),d=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,l=6==e,p=7==e,h=5==e||l;return function(f,b,m,G){for(var D,v,g=o(f),w=n(g),S=a(b,m,3),y=i(w.length),T=0,F=G||s,k=t?F(f,y):r||p?F(f,0):void 0;y>T;T++)if((h||T in w)&&(D=w[T],v=S(D,T,g),e))if(t)k[T]=v;else if(v)switch(e){case 3:return!0;case 5:return D;case 6:return T;case 2:d.call(k,D)}else switch(e){case 4:return!1;case 7:d.call(k,D)}return l?-1:c||u?u:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},e8b5:function(e,t,r){var a=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-b13112f6.3d2ed697.js.map