(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99b1978a"],{"00e1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC6FBMVEX////+/v79/f3c3Nza2trb29ve3t7d3d38+/zX19f6+vra2tra2tra2tra2tra2tra2tra2tra2tra2tra2trb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nze3t7d3d3d3d3c3Nzc3Nzc3Nzc3Nze3t7e3t7e3t7c3Nzc3Nzc3Nzc3Nze3t7e3t7c3Nzc3Nze3t7e3t7c3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nze3t7X19fc3Nzc3Nze3t7c3Nzc3Nzc3Nze3t7c3Nzc3Nze3t7X19fc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3d3d3c3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nza2trb29vc3Nzd3d3e3t7X19f////1XJ3wAAAA8XRSTlMAAAAAAAAAAAAAAAFClbinP0DN/DYqs2odnf0/EIj2/g8Gc+vdAlzhrUjOfTK8TCKm/hsUkPnqCnvwugRl5opR1Vk5xSmu9AMZmfvi9ccOhNSXBm7rZgHb1jTuNkLM2L78CTC32Rp1HqL92qMTjPjcHHMJdu/dHZJDAmLh3h5GE0vU4B84vyGxJKv+Y4AXlfrj81AMf+QlyCBq5+UmflQnNz/ojhuy6SqcXg7bKy1lLuz3Vy/LBrZsmwJY9msYw+8zzzpwxnRBI3jPEKgmfdTxpXcrgNg7WkepPcB4tjERSfhg8qRik9+fVnFXds0+0m2hZzI+ugAAAAFiS0dEAIgFHUgAAAAHdElNRQfkChAJNi2YukqFAAAAAW9yTlQBz6J3mgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMC0xNlQwOTo1NDo0NSswMDowMJSX2J4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTAtMTZUMDk6NTQ6NDMrMDA6MDCGGlUYAAADtElEQVRYw+3WZ1gTMRgHcDAW3HvvhRMHVZGCyhBFLYoyqqAyHeAE90bFgQMXDsQ9cU8UVATFvXHvvbeS1s+m7dVe75LrXe/weXye/j9xIe+PkKZvzsbGGmus+XexRSlEi/ZZMhwwIuG6CzNSEHTxEiVLlS5TEHTZcr9QyleQkJbpUrFSvj6VJaarVK1GyfnVRVDMEyGT1ahZywDn164j4qQw6br16ucb00AmGe3QsBGkp7GY820iN2kKTdNMItqxOWSmhSR0y1ZOLBnKJaBbt2nLhqGzqF6iq2vnooC4uAqiATtu7TtAfDqKpN09ICmeomivTpAcbxG0d2cOGHbxsZju2q07i1P6Gn/uIey2MU7u6deFvdBerrSH3pbR/gGBmC3wCKA/BVlCqzz74Da3b3AI/bEfP9pOF3sUNK//AOzHFioPoz+GRwimI6PwB2LgoMGm+w4E0kOiY/DyUHmkaR8ZJowePmIk4RCPio1gfC3jhNCjx4xVq/HyuPFgAmNoIn960uQpajWBnjoNTGf263je9IyZGg2JnpUA4pntTwkIdCEGPXuORkOkG80FgNVN5pHoIsCuqPEXifMXqPXBrVnZEoCFrNFFJLoYjU5avASqyfTSRPS3l7GGl5unk1doy8j0ylXoolnNHk8xR7utSdVNJNJr16FZ69lyCOCmVRsMbYhEp25EdZvYfRuGcdObe/ydSaC3aO+oZFwb3MpFb9tOm4mnd6Rpy3bijs0uDnr3HmiOdt6rrXLHyXAfB73/tzna+YC2qOtBnHzIjYM+bI4OPKK7cKKwi04HHPTRY9z0wUhdTQZWhplctN3xE2HhZDrEUVeSdhJPZ3HS6FyfysiOwdM5p3UV/mfwMsw1R6PEnj3nxKYVwfqKjgQ5JplM0ztfwvl0Bq2g3gMuEO5JGAr40SgXL12m0Qov/egVJUGGVzlo5lVgb3/t+g2KvmnYyDySDG9x0LYsGuX2nbuobNk9avp9ogwfcNA2OBpl88OcR4aPIIdMJ1lAo/NGTfZ5TJY7AItoQ56QZfhUFP2sLQftJ4p+HjeKTG8QtyHA4cW8lwQ6UQjNDPWdeRW1BCO/VomiVbn6pcUH0fojlWwgin6D3m2i387Vlhn7I5V34mhKef/ho/a/j/20mvaiel8SGuWzvjjly1dqwDlCIjr829/6VS7f0YDvdCAN7dTehNgXkCUHEtFnAa9YQLvwky2g/XjKwuk2fGXBdKaqoOg8H96yIPqH8qcAWXjn+99oa6yxpoDzB32sVcYsHekFAAAAWmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAAhMAAwAAAAEAAQAAAAAAAAAAAEgAAAABAAAASAAAAAEfUvc0AAAAAElFTkSuQmCC"},"08d4":function(t,e,c){},2959:function(t,e,c){"use strict";c.r(e);var s=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"chat-support"},[c("Nav",{attrs:{title:t.pageTitle,isLeftArrow:!0,isRightText:!1}}),c("div",{staticClass:"chat-support-content",style:{height:"calc(100vh - "+t.contentLessHeight+"px)"}},[c("div",{staticClass:"chat-wrapper"},[c("div",{staticClass:"chat-time-start"}),t._l(t.messages,(function(e,s){return c("div",{key:s,staticClass:"chat-item",class:t.messagePosition(e)},[c("div",{staticClass:"icon"},[c("van-image",{attrs:{width:"33",height:"33",src:""}})],1),c("div",{staticClass:"message"},[c("p",[t._v(t._s(e.Message))]),c("div",{staticClass:"dt"},[c("span",[t._v(t._s(e.TimeStamp.split(" ")[0]))]),c("span",[t._v(t._s(e.TimeStamp.split(" ")[1]+" "+e.TimeStamp.split(" ")[2]))])])])])}))],2)]),c("MessageFooter",{on:{updateData:t.getAllMessageBy,calcFooterHeight:function(e){return t.calcFooterHeight(e)}}})],1)},a=[],o=(c("b0c0"),c("71a8")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"chatfooter",staticClass:"chat-footer",attrs:{id:"chatfooter"}},[s("div",{staticClass:"chat-footer-wrapper"},[s("div",{staticClass:"input"},[s("van-field",{attrs:{type:"textarea",placeholder:"Enter Message",rows:"1",autosize:{maxHeight:96,minHeight:16}},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("div",{staticClass:"send-button"},[s("van-image",{attrs:{width:"30",height:"30",src:c("00e1")},on:{click:function(e){return t.setMessageBy()}}})],1)])])},i=[],A={name:"MessageFooter",components:{},data:function(){return{message:"",userDetails:{}}},props:{},methods:{setMessageBy:function(){var t=this;if(this.message){var e={request:3,data:{ToUserID:this.$route.params.teacherid,FromUserID:this.userDetails.AccountID,Message:this.message,TimeStamp:this.createTime(),Status:1}};this.http.post(this.api.MessageService,e).then((function(e){1==e.data.State&&(t.$emit("updateData"),t.message="")})).catch((function(t){console.log(t)}))}},createTime:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate()),c=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),a=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),o=t.getHours()<13?"AM":"PM",n=e+" "+c+":"+s+":"+a+" "+o;return n},calcFooterHeight:function(){var t=document.getElementById("chatfooter"),e=null===t||void 0===t?void 0:t.getBoundingClientRect().height;""==this.message?this.$emit("calcFooterHeight",50):this.$emit("calcFooterHeight",e)},onEnter:function(){this.calcFooterHeight()}},watch:{message:function(t){""==t&&""!=t||this.calcFooterHeight()}},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))}},r=A,N=(c("e4cf"),c("2877")),z=Object(N["a"])(r,n,i,!1,null,"e8778a54",null),l=z.exports,u={name:"Message",components:{Nav:o["a"],MessageFooter:l},data:function(){return{pageTitle:"",userDetails:{},messages:[],message:"",contentLessHeight:96,timeInterval:null,dataMessage:[{from:"Admin",message:"message from admin",date:""}]}},methods:{getAllMessageBy:function(){var t=this,e={request:2,data:{ToUserID:this.$route.params.teacherid,FromUserID:this.userDetails.AccountID}};this.http.post(this.api.MessageService,e).then((function(e){t.messages=e.data,t.scrollToBottom()})).catch((function(t){console.log(t)})),this.timeInterval=setInterval((function(){t.http.post(t.api.MessageService,e).then((function(e){t.messages=e.data,t.scrollToBottom()})).catch((function(t){console.log(t)}))}),6e3)},scrollToBottom:function(){var t=document.querySelector(".chat-wrapper"),e=t.scrollHeight;t.scrollTop=e},calcFooterHeight:function(t){var e=46;this.contentLessHeight=e+t},messagePosition:function(t){return t.FromUserID==this.userDetails.AccountID?"pos-right":"pos-left"}},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))},mounted:function(){clearInterval(this.timeInterval),this.getAllMessageBy(),this.scrollToBottom(),this.pageTitle=this.$route.params.name},updated:function(){this.scrollToBottom()},destroyed:function(){clearInterval(this.timeInterval)}},g=u,d=(c("2c4d"),Object(N["a"])(g,s,a,!1,null,"1e078bb8",null));e["default"]=d.exports},"2c4d":function(t,e,c){"use strict";c("98f1")},"71a8":function(t,e,c){"use strict";var s=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"nav"},[c("van-nav-bar",{attrs:{title:t.title,"left-text":t.isLeftArrow?"Back":"","right-text":t.isRightText?"Logout":"","left-arrow":t.isLeftArrow},on:{"click-left":t.onClickLeft,"click-right":t.logout}})],1)},a=[],o={name:"Nav",components:{},data:function(){return{}},props:{title:{type:String,default:""},isLeftArrow:{type:Boolean,default:!1},isRightText:{type:Boolean,default:!1},showRefresh:{type:Boolean,default:!1}},methods:{onClickLeft:function(){this.$router.go(-1)},logout:function(){this.$router.push({name:"UserLogin"})},refresh:function(){console.log("test")}}},n=o,i=(c("dcff"),c("2877")),A=Object(i["a"])(n,s,a,!1,null,null,null);e["a"]=A.exports},"98f1":function(t,e,c){},b0c0:function(t,e,c){var s=c("83ab"),a=c("9bf2").f,o=Function.prototype,n=o.toString,i=/^\s*function ([^ (]*)/,A="name";s&&!(A in o)&&a(o,A,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})},bae8:function(t,e,c){},dcff:function(t,e,c){"use strict";c("08d4")},e4cf:function(t,e,c){"use strict";c("bae8")}}]);
//# sourceMappingURL=chunk-99b1978a.b860eb74.js.map