(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9269eb8"],{"7d1d":function(t,e,a){"use strict";a("d9e2")},ceb0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"students"},[a("div",{staticClass:"button-options"},[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){t.showAddStudent=!0}}},[t._v(" Add Parent ")])],1),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":function(e){return t.selectTab(t.activeTab)}},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.panelItems,(function(e,n){return a("el-tab-pane",{key:n,attrs:{label:e}},[a(t.panelItems[t.activeTab],{tag:"component",attrs:{requestNumber:t.activeTab,tableData:t.tableData},on:{updateData:function(e){return t.updateData()}}})],1)})),1),a("AddParent",{attrs:{showAddStudent:t.showAddStudent},on:{updateData:function(e){return t.updateData()},closeAddStudent:function(e){return t.closeAddStudent(e)}}})],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Add Parent",visible:t.showAddStudent,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(e){t.showAddStudent=e},close:t.closeDialog}},[a("div",{staticClass:"add-student-content"},[a("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:t.ruleForm,"label-width":"130px","status-icon":"",rules:t.rules}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Account Details")]),a("div",{staticClass:"form-item-account-details"},[a("div",{staticClass:"detail-row1"},[a("div",{staticClass:"icon"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","auto-upload":!1,"show-file-list":!1,"list-type":"picture-card","on-change":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.ruleForm.Icon?a("img",{staticClass:"avatar",attrs:{width:"148",height:"148",src:t.ruleForm.Icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticClass:"radio"},[a("el-form-item",{attrs:{label:"Account Type"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.AccountType,callback:function(e){t.AccountType=e},expression:"AccountType"}},[a("el-radio",{attrs:{label:"Student",disabled:"",border:""}},[t._v("Student")]),a("el-radio",{attrs:{label:"Parent",border:""}},[t._v("Parent")])],1)],1),a("el-form-item",{attrs:{label:"Account Status"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.AccountStatus,callback:function(e){t.AccountStatus=e},expression:"AccountStatus"}},[a("el-radio",{attrs:{label:"Active",border:""}},[t._v("Active")]),a("el-radio",{attrs:{label:"Inactive",border:"",disabled:""}},[t._v("Inactive")])],1)],1)],1)]),a("div",{staticClass:"detail-row2"},[a("el-form-item",{attrs:{label:"Account ID",prop:"AccountID"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.AccountID,callback:function(e){t.$set(t.ruleForm,"AccountID",e)},expression:"ruleForm.AccountID"}})],1),a("el-form-item",{attrs:{label:"Password",prop:"AccountPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.AccountPassword,callback:function(e){t.$set(t.ruleForm,"AccountPassword",e)},expression:"ruleForm.AccountPassword"}})],1)],1)]),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Personal Details")]),a("div",{staticClass:"form-item-account-details"},[a("el-form-item",{attrs:{label:"Last Name:",prop:"LastName"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.LastName,callback:function(e){t.$set(t.ruleForm,"LastName",e)},expression:"ruleForm.LastName"}})],1),a("el-form-item",{attrs:{label:"First Name:",prop:"FirstName"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.FirstName,callback:function(e){t.$set(t.ruleForm,"FirstName",e)},expression:"ruleForm.FirstName"}})],1),a("el-form-item",{attrs:{label:"Middle Name:",prop:"MiddleName"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.MiddleName,callback:function(e){t.$set(t.ruleForm,"MiddleName",e)},expression:"ruleForm.MiddleName"}})],1),a("el-form-item",{attrs:{label:"Extension Name:"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.ExtName,callback:function(e){t.$set(t.ruleForm,"ExtName",e)},expression:"ruleForm.ExtName"}})],1),a("el-form-item",{attrs:{label:"Phone Number:"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.PhoneNumber,callback:function(e){t.$set(t.ruleForm,"PhoneNumber",e)},expression:"ruleForm.PhoneNumber"}})],1),a("el-form-item",{attrs:{label:"Email:"}},[a("el-input",{attrs:{type:"email"},model:{value:t.ruleForm.Email,callback:function(e){t.$set(t.ruleForm,"Email",e)},expression:"ruleForm.Email"}})],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("School Details")]),a("el-form-item",{attrs:{label:"Student ID:",prop:"StudentID"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.StudentID,callback:function(e){t.$set(t.ruleForm,"StudentID",e)},expression:"ruleForm.StudentID"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeDialog}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)])},s=[],i={components:{},data:function(){var t=function(t,e,a){""===e?a(new Error("Please input the account ID")):a()},e=function(t,e,a){""===e?a(new Error("Please input the password")):a()},a=function(t,e,a){""===e?a(new Error("Please input the last name")):a()},n=function(t,e,a){""===e?a(new Error("Please input the first name")):a()},o=function(t,e,a){""===e?a(new Error("Please input the middle name")):a()},r=function(t,e,a){""===e?a(new Error("Please input the student ID")):a()};return{rules:{AccountID:[{validator:t,trigger:"blur"}],AccountPassword:[{validator:e,trigger:"blur"}],LastName:[{validator:a,trigger:"blur"}],FirstName:[{validator:n,trigger:"blur"}],MiddleName:[{validator:o,trigger:"blur"}],StudentID:[{validator:r,trigger:"blur"}]},AccountType:"Parent",AccountStatus:"Active",ruleForm:{ID:"",AccountType:1,AccountStatus:1,AccountPending:2,AccountOnlineState:2,AccountID:"",AccountPassword:"",LastName:"",FirstName:"",MiddleName:"",ExtName:"",PhoneNumber:"",Email:"",Icon:"",StudentID:"",CreateTime:"",UpdateTime:""},fileList:[]}},methods:{closeDialog:function(){this.$emit("closeAddStudent",!1)},submitUpload:function(){this.$refs.upload.submit()},save:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={request:6,data:{AccountID:t.ruleForm.StudentID}};t.http.post(t.api.StudentService,a).then((function(e){if(1==e.data[0].State){var a={request:3,data:{AccountType:"Student"==t.AccountType?1:2,AccountStatus:"Active"==t.AccountStatus?1:2,AccountPending:t.ruleForm.AccountPending,AccountOnlineState:t.ruleForm.AccountOnlineState,AccountID:t.ruleForm.AccountID,AccountPassword:t.ruleForm.AccountPassword,LastName:t.ruleForm.LastName,FirstName:t.ruleForm.MiddleName,MiddleName:t.ruleForm.MiddleName,ExtName:t.ruleForm.ExtName,PhoneNumber:t.ruleForm.PhoneNumber,Email:t.ruleForm.Email,Icon:t.ruleForm.Icon,StudentID:t.ruleForm.StudentID,CreateTime:t.createTime(),UpdateTime:t.createTime()}};t.http.post(t.api.ParentService,a).then((function(e){1==e.data[0].State?(t.updateData(),t.$message({type:"success",message:e.data[0].Message})):t.$message({type:"warning",message:e.data[0].Message})})).catch((function(e){t.$message({type:"danger",message:"Connection Error!"}),console.log(e)}))}else t.$message({type:"error",message:e.data[0].Message})})).catch((function(e){t.$message({type:"danger",message:"Connection Error!"}),console.log(e)}))}))},handleAvatarSuccess:function(t){console.log(t)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a},updateData:function(){this.$emit("updateData")},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t),console.log(this.fileList)},resetFields:function(){this.$refs.ruleForm.resetFields(),this.ruleForm.ExtName="",this.ruleForm.PhoneNumber="",this.ruleForm.Email=""},createTime:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate()),a=t.getHours()<10?"0"+t.getHours():t.getHours(),n=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),r=t.getHours()<13?"AM":"PM",s=e+" "+a+":"+n+":"+o+" "+r;return s}},props:{showAddStudent:{type:Boolean,default:!1}},created:function(){}},c=i,l=(a("de5c"),a("2877")),u=Object(l["a"])(c,r,s,!1,null,null,null),d=u.exports,m={components:{AddParent:d,Active:function(t){a.e("chunk-17376c1c").then(function(){var e=[a("f86c")];t.apply(null,e)}.bind(this)).catch(a.oe)},Inactive:function(t){a.e("chunk-17376c1c").then(function(){var e=[a("f86c")];t.apply(null,e)}.bind(this)).catch(a.oe)},Pending:function(t){a.e("chunk-17376c1c").then(function(){var e=[a("f86c")];t.apply(null,e)}.bind(this)).catch(a.oe)},Rejected:function(t){a.e("chunk-17376c1c").then(function(){var e=[a("f86c")];t.apply(null,e)}.bind(this)).catch(a.oe)}},data:function(){return{activeTab:0,panelItems:["Active","Inactive","Pending","Rejected"],showAddStudent:!1,tableData:[]}},methods:{selectTab:function(t){0==t?this.getStudentData():1==t?this.getStudentInactiveData():2==t?this.getStudentPendingData():this.getStudentRejectedData()},closeAddStudent:function(t){this.showAddStudent=t},updateData:function(){0==this.activeTab?this.getStudentData():1==this.activeTab?this.getStudentInactiveData():2==this.activeTab?this.getStudentPendingData():this.getStudentRejectedData()},getStudentData:function(){var t=this,e={request:7,data:{AccountStatus:1,AccountPending:1}};this.http.post(this.api.ParentService,e).then((function(e){t.tableData=[],t.tableData=e.data})).catch((function(t){console.log(t)}))},getStudentInactiveData:function(){var t=this,e={request:7,data:{AccountStatus:2,AccountPending:1}};this.http.post(this.api.ParentService,e).then((function(e){t.tableData=[],t.tableData=e.data})).catch((function(t){console.log(t)}))},getStudentPendingData:function(){var t=this,e={request:7,data:{AccountStatus:1,AccountPending:2}};this.http.post(this.api.ParentService,e).then((function(e){t.tableData=[],t.tableData=e.data})).catch((function(t){console.log(t)}))},getStudentRejectedData:function(){var t=this,e={request:7,data:{AccountStatus:1,AccountPending:3}};this.http.post(this.api.ParentService,e).then((function(e){t.tableData=[],t.tableData=e.data})).catch((function(t){console.log(t)}))}},props:{},created:function(){0==this.activeTab&&this.getStudentData()}},p=m,f=(a("7d1d"),Object(l["a"])(p,n,o,!1,null,null,null));e["default"]=f.exports},d9e2:function(t,e,a){},de5c:function(t,e,a){"use strict";a("fec5")},fec5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-a9269eb8.94f6e12b.js.map