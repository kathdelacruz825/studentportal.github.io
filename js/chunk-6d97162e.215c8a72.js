(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d97162e"],{"0224":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-grades"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"370"}},[a("el-table-column",{attrs:{prop:"SubjectID",label:"Subject",width:"120"}}),a("el-table-column",{attrs:{label:"Grading Period"}},[a("el-table-column",{attrs:{prop:"FirstGrade",label:"1",width:"80"}}),a("el-table-column",{attrs:{prop:"SecondGrade",label:"2",width:"80"}}),a("el-table-column",{attrs:{prop:"ThirdGrade",label:"3",width:"80"}}),a("el-table-column",{attrs:{prop:"FourthGrade",label:"4",width:"80"}})],1),a("el-table-column",{attrs:{prop:"OverAllGrade",label:"Final Grade",width:"80"}}),a("el-table-column",{attrs:{prop:"Remarks",label:"Remarks",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},nativeOn:{click:function(a){return a.preventDefault(),e.operationAction("Edit",e.tableData[t.$index])}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},nativeOn:{click:function(a){return a.preventDefault(),e.operationAction("Delete",e.tableData[t.$index])}}})]}}])})],1),a("el-dialog",{attrs:{title:"Delete Grade",visible:e.showDeleteGrade,width:"20%","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px"},on:{"update:visible":function(t){e.showDeleteGrade=t}}},[a("span",[e._v("Are you sure you want to delete?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDeleteGrade=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteData()}}},[e._v("Delete")])],1)]),e.showUpdateGrade?a("UpdateGrade",{attrs:{studentData:e.gradeData,showUpdateGrade:e.showUpdateGrade},on:{updateData:e.updateData,closeUpdateGrade:function(t){return e.closeUpdateGrade(t)}}}):e._e()],1)},n=[],s=[{propName:"SubjectID",propLabel:"Subject",width:"200"},{propName:"FirstGrade",propLabel:"First Grading",width:"120"},{propName:"SecondGrade",propLabel:"Second Grading",width:"120"},{propName:"ThirdGrade",propLabel:"Third Grading",width:"120"},{propName:"FourthGrade",propLabel:"Fourth Grading",width:"120"},{propName:"OverAllGrade",propLabel:"Over All Grade",width:"120"},{propName:"Remarks",propLabel:"Remarks",width:"120"},{propName:"TeacherID",propLabel:"Teacher",width:"220"}],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showUpdateGrade,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(t){e.showUpdateGrade=t}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Update Grade ")]},proxy:!0}])},[a("div",{staticClass:"add-course-content"},[a("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:e.ruleForm,"label-width":"130px","status-icon":"",rules:e.rules}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("Grade Details")]),a("div",{staticClass:"form-item-account-details"},[a("el-form-item",{attrs:{label:"Subject:"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectSubject}},[a("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.currentSubject)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.subjectList,(function(t,r){return a("el-dropdown-item",{key:r,attrs:{command:t}},[e._v(" "+e._s(t.Title)+" ")])})),1)],1)],1),a("el-form-item",{attrs:{label:"First Grading:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:e.studentData.FirstGrade,callback:function(t){e.$set(e.studentData,"FirstGrade",t)},expression:"studentData.FirstGrade"}})],1),a("el-form-item",{attrs:{label:"Second Grading:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:e.studentData.SecondGrade,callback:function(t){e.$set(e.studentData,"SecondGrade",t)},expression:"studentData.SecondGrade"}})],1),a("el-form-item",{attrs:{label:"Third Grading:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:e.studentData.ThirdGrade,callback:function(t){e.$set(e.studentData,"ThirdGrade",t)},expression:"studentData.ThirdGrade"}})],1),a("el-form-item",{attrs:{label:"Fourth Grading:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:e.studentData.FourthGrade,callback:function(t){e.$set(e.studentData,"FourthGrade",t)},expression:"studentData.FourthGrade"}})],1),a("el-form-item",{attrs:{label:"Teacher:"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectTeacher}},[a("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.currentTeacher)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.teacherList,(function(t,r){return a("el-dropdown-item",{key:r,attrs:{command:t}},[e._v(" "+e._s(t.Name)+" ")])})),1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)])},i=[],d=(a("4de4"),a("a9e3"),a("96cf"),a("1da1")),l={components:{},data:function(){var e=function(e,t,a){""===t?a(new Error("Please input the grade")):a()};return{rules:{currGrade:[{validator:e,trigger:"blur"}]},ruleForm:{StudentID:"",SubjectID:"",Quarter:"",Grade:"",FirstGrade:"",SecondGrade:"",ThirdGrade:"",FourthGrade:"",OverAllGrade:"",Remarks:"",TeacherID:""},currentTeacher:"---Select---",currentSubject:"---Select---",currentGradingPeriod:"---Select---",currentGrade:"",teacherList:[],subjectList:[],gradingPeriodList:[]}},methods:{closeDialog:function(){this.currentGradingPeriod="---Select---",this.currentTeacher="---Select---",this.currentSubject="---Select---",this.$emit("closeUpdateGrade",!1),this.$emit("updateData"),this.$refs.ruleForm.resetFields()},selectTeacher:function(e){this.currentTeacher=e.Name},selectSubject:function(e){this.currentSubject=e.Title},selectGradingPeriod:function(e){this.currentGradingPeriod=e.Title,this.ruleForm.Quarter=e.Title},save:function(){var e=this,t={request:4,data:{ID:this.studentData.ID,StudentID:this.studentData.StudentID,SubjectID:this.parseSubject(this.currentSubject),FirstGrade:Number(this.studentData.FirstGrade?this.studentData.FirstGrade:0),SecondGrade:Number(this.studentData.SecondGrade?this.studentData.SecondGrade:0),ThirdGrade:Number(this.studentData.ThirdGrade?this.studentData.ThirdGrade:0),FourthGrade:Number(this.studentData.FourthGrade?this.studentData.FourthGrade:0),OverAllGrade:this.computeOverALL(this.studentData),Remarks:this.computeRemarks(this.studentData),TeacherID:this.parseTeacher(this.currentTeacher)}};this.http.post(this.api.AdminGradingService,t).then((function(t){1==t.data.State?(e.$emit("updateData"),e.$message({type:"success",message:t.data.Message})):e.$message({type:"warning",message:t.data.Message})})).catch((function(e){console.log(e)}))},parseSubject:function(e){var t=this.subjectList.filter((function(t){if(t.Title==e)return t}))[0].ID;return t},parseTeacher:function(e){var t=this.teacherList.filter((function(t){if(t.Name==e)return t}))[0].AccountID;return t},computeOverALL:function(e){var t=Number(e.FirstGrade?e.FirstGrade:0),a=Number(e.SecondGrade?e.SecondGrade:0),r=Number(e.ThirdGrade?e.ThirdGrade:0),n=Number(e.FourthGrade?e.FourthGrade:0),s=(t+a+r+n)/4;return s},computeRemarks:function(e){var t=Number(e.FirstGrade?e.FirstGrade:0),a=Number(e.SecondGrade?e.SecondGrade:0),r=Number(e.ThirdGrade?e.ThirdGrade:0),n=Number(e.FourthGrade?e.FourthGrade:0),s=(t+a+r+n)/4;return s>=75?"Passed":"Failed"},getAllTeacher:function(){var e=this,t={request:1,data:{}};this.http.post(this.api.TeacherService,t).then((function(t){e.teacherList=t.data})).catch((function(e){console.log(e)}))},getAllSubject:function(){var e=this,t={request:1,data:{}};this.http.post(this.api.SubjectService,t).then((function(t){e.subjectList=t.data})).catch((function(e){console.log(e)}))}},props:{showUpdateGrade:{type:Boolean,default:!1},studentData:{type:Object,default:function(){return{}}}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllTeacher();case 2:return t.next=4,e.getAllSubject();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){console.log(this.studentData),this.currentSubject=this.studentData.SubjectID,this.currentTeacher=this.studentData.TeacherID}},c=l,u=(a("a311"),a("2877")),p=Object(u["a"])(c,o,i,!1,null,null,null),h=p.exports,m={components:{UpdateGrade:h},data:function(){return{tableProps:s,gradeData:{},showDeleteGrade:!1,showUpdateGrade:!1}},methods:{operationAction:function(e,t){switch(this.gradeData=t,e){case"Edit":this.showUpdateGrade=!0;break;case"Delete":this.showDeleteGrade=!0;break;default:console.log("Invalid Option")}},deleteData:function(){var e=this,t={request:5,data:{ID:this.gradeData.ID}};this.http.post(this.api.AdminGradingService,t).then((function(t){1==t.data.State?(e.showDeleteGrade=!1,e.$emit("updateData"),e.$message({type:"success",message:t.data.Message})):e.$message({type:"warning",message:t.data.Message})})).catch((function(e){console.log(e)}))},updateData:function(){this.$emit("updateData")},closeUpdateGrade:function(e){this.showUpdateGrade=e}},props:{tableData:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){}},b=m,G=(a("60e1"),Object(u["a"])(b,r,n,!1,null,null,null));t["default"]=G.exports},"2b64":function(e,t,a){},"3f88":function(e,t,a){},"60e1":function(e,t,a){"use strict";a("2b64")},a311:function(e,t,a){"use strict";a("3f88")}}]);
//# sourceMappingURL=chunk-6d97162e.215c8a72.js.map