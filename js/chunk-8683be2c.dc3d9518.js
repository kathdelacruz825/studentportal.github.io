(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8683be2c"],{"1dde":function(t,e,r){var a=r("d039"),n=r("b622"),i=r("2d00"),s=n("species");t.exports=function(t){return i>=51||!a((function(){var e=[],r=e.constructor={};return r[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").filter,i=r("1dde"),s=r("ae40"),o=i("filter"),c=s("filter");a({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5198:function(t,e,r){"use strict";r("89f7")},"65f0":function(t,e,r){var a=r("861d"),n=r("e8b5"),i=r("b622"),s=i("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"89f7":function(t,e,r){},a568:function(t,e,r){},ae40:function(t,e,r){var a=r("83ab"),n=r("d039"),i=r("5135"),s=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(i(o,t))return o[t];e||(e={});var r=[][t],l=!!i(e,"ACCESSORS")&&e.ACCESSORS,u=i(e,0)?e[0]:c,d=i(e,1)?e[1]:void 0;return o[t]=!!r&&!n((function(){if(l&&!a)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:c}):t[1]=1,r.call(t,u,d)}))}},b727:function(t,e,r){var a=r("0366"),n=r("44ad"),i=r("7b0b"),s=r("50c4"),o=r("65f0"),c=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,d=6==t,p=7==t,f=5==t||d;return function(h,m,g,b){for(var v,D,w=i(h),S=n(w),y=a(m,g,3),x=s(S.length),I=0,A=b||o,G=e?A(h,x):r||p?A(h,0):void 0;x>I;I++)if((f||I in S)&&(v=S[I],D=y(v,I,w),t))if(e)G[I]=D;else if(D)switch(t){case 3:return!0;case 5:return v;case 6:return I;case 2:c.call(G,v)}else switch(t){case 4:return!1;case 7:c.call(G,v)}return d?-1:l||u?u:G}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c88d:function(t,e,r){"use strict";r("a568")},e82a:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table-grades"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"370"}},[t._l(t.tableProps,(function(t,e){return r("el-table-column",{key:e,attrs:{prop:t.propName,label:t.propLabel,width:t.width,align:2==e?"left":"center","class-name":"text-style"}})})),r("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},nativeOn:{click:function(r){return r.preventDefault(),t.operationAction("Edit",t.tableData[e.$index])}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},nativeOn:{click:function(r){return r.preventDefault(),t.operationAction("Delete",t.tableData[e.$index])}}})]}}])})],2),r("el-dialog",{attrs:{title:"Delete Exam",visible:t.showDeleteGrade,width:"20%","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px"},on:{"update:visible":function(e){t.showDeleteGrade=e}}},[r("span",[t._v("Are you sure you want to delete?")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.showDeleteGrade=!1}}},[t._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteData()}}},[t._v("Delete")])],1)]),t.showUpdateExam?r("UpdateExam",{attrs:{studentData:t.studentData,showUpdateExam:t.showUpdateExam},on:{updateData:t.updateData,closeUpdateExam:function(e){return t.closeUpdateExam(e)}}}):t._e()],1)},n=[],i=[{propName:"SubjectID",propLabel:"Subject",width:"200"},{propName:"GradingPeriodID",propLabel:"Grading Period",width:"200"},{propName:"Score",propLabel:"Score",width:"200"},{propName:"OverAllItems",propLabel:"Over All Items",width:"120"},{propName:"Remarks",propLabel:"Remarks",width:"120"}],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{visible:t.showUpdateExam,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(e){t.showUpdateExam=e}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Update Examination ")]},proxy:!0}])},[r("div",{staticClass:"add-course-content"},[r("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:t.ruleForm,"label-width":"130px","status-icon":"",rules:t.rules}},[r("el-divider",{attrs:{"content-position":"left"}},[t._v("Examination Details")]),r("div",{staticClass:"form-item-account-details"},[r("el-form-item",{attrs:{label:"Subject:"}},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectSubject}},[r("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.currentSubject)+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.subjectList,(function(e,a){return r("el-dropdown-item",{key:a,attrs:{command:e}},[t._v(" "+t._s(e.Title)+" ")])})),1)],1)],1),r("el-form-item",{attrs:{label:"Grading Period:"}},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectGradingPeriod}},[r("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.currentGradingPeriod)+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.gradingPeriodList,(function(e,a){return r("el-dropdown-item",{key:a,attrs:{command:e}},[t._v(" "+t._s(e.Title)+" ")])})),1)],1)],1),r("el-form-item",{attrs:{label:"Score:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:t.studentData.Score,callback:function(e){t.$set(t.studentData,"Score",e)},expression:"studentData.Score"}})],1),r("el-form-item",{attrs:{label:"Over All Items:",prop:"currGrade"}},[r("el-input",{attrs:{type:"number"},model:{value:t.studentData.OverAllItems,callback:function(e){t.$set(t.studentData,"OverAllItems",e)},expression:"studentData.OverAllItems"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.closeDialog}},[t._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("Update")])],1)])},o=[],c=(r("4de4"),r("a9e3"),r("96cf"),r("1da1")),l={components:{},data:function(){var t=function(t,e,r){""===e?r(new Error("Please input the grade")):r()};return{rules:{currGrade:[{validator:t,trigger:"blur"}]},ruleForm:{StudentID:"",SubjectID:"",GradingPeriodID:"",Score:"",OverAllItems:"",Remarks:""},currentTeacher:"---Select---",currentSubject:"---Select---",currentGradingPeriod:"---Select---",currentGrade:"",teacherList:[],subjectList:[],gradingPeriodList:[]}},methods:{closeDialog:function(){this.currentGradingPeriod="---Select---",this.currentSubject="---Select---",this.$emit("closeUpdateExam",!1),this.$emit("updateData"),this.$refs.ruleForm.resetFields()},selectTeacher:function(t){this.currentTeacher=t.Name},selectSubject:function(t){this.currentSubject=t.Title},selectGradingPeriod:function(t){this.currentGradingPeriod=t.Title},save:function(){var t=this;if(""==this.studentData.SubjectID)this.$message({type:"warning",message:"Select Subject!"});else if(""==this.studentData.GradingPeriodID)this.$message({type:"warning",message:"Select Grading Period!"});else if(""==this.studentData.Score)this.$message({type:"warning",message:"Enter Score!"});else if(""==this.studentData.OverAllItems)this.$message({type:"warning",message:"Enter Over All Items!"});else{var e={request:4,data:{ID:this.studentData.ID,StudentID:this.studentData.StudentID,SubjectID:this.parseSubject(this.currentSubject),GradingPeriodID:this.parseGrading(this.currentGradingPeriod),Score:this.studentData.Score,OverAllItems:this.studentData.OverAllItems,Remarks:this.computeRemarks(this.ruleForm)}};this.http.post(this.api.AdminExamService,e).then((function(e){1==e.data.State?(t.$emit("updateData"),t.$message({type:"success",message:e.data.Message})):t.$message({type:"warning",message:e.data.Message})})).catch((function(t){console.log(t)}))}},computeRemarks:function(t){var e=Number(t.Score),r=Number(t.OverAllItems)/2;return e>=r?"Passed":"Failed"},getAllTeacher:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.TeacherService,e).then((function(e){t.teacherList=e.data})).catch((function(t){console.log(t)}))},getAllSubject:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.SubjectService,e).then((function(e){t.subjectList=e.data})).catch((function(t){console.log(t)}))},getAllGradingPeriod:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.GradingPeriodService,e).then((function(e){t.gradingPeriodList=e.data})).catch((function(t){console.log(t)}))},parseSubject:function(t){var e=this.subjectList.filter((function(e){if(e.Title==t)return e}))[0].ID;return e},parseGrading:function(t){var e=this.gradingPeriodList.filter((function(e){if(e.Title==t)return e}))[0].ID;return e},resetFields:function(){this.currentGradingPeriod="---Select---",this.currentSubject="---Select---",this.ruleForm.StudentID="",this.ruleForm.SubjectID="",this.ruleForm.GradingPeriodID="",this.ruleForm.Score="",this.ruleForm.OverAllItems="",this.ruleForm.Remarks=""}},props:{showUpdateExam:{type:Boolean,default:!1},studentData:{type:Object,default:function(){return{}}}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAllSubject();case 2:return e.next=4,t.getAllGradingPeriod();case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){console.log(this.studentData),this.currentSubject=this.studentData.SubjectID,this.currentGradingPeriod=this.studentData.GradingPeriodID}},u=l,d=(r("c88d"),r("2877")),p=Object(d["a"])(u,s,o,!1,null,null,null),f=p.exports,h={components:{UpdateExam:f},data:function(){return{tableProps:i,studentData:{},showDeleteGrade:!1,showUpdateExam:!1}},methods:{operationAction:function(t,e){switch(this.studentData={},this.studentData=e,t){case"Edit":this.showUpdateExam=!0;break;case"Delete":this.showDeleteGrade=!0;break;default:console.log("Invalid Option")}},deleteData:function(){var t=this,e={request:5,data:{ID:this.studentData.ID}};this.http.post(this.api.AdminExamService,e).then((function(e){1==e.data.State?(t.showDeleteGrade=!1,t.$emit("updateData"),t.$message({type:"success",message:e.data.Message})):t.$message({type:"warning",message:e.data.Message})})).catch((function(t){console.log(t)}))},updateData:function(){this.$emit("updateData")},closeUpdateExam:function(t){this.showUpdateExam=t}},props:{tableData:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){}},m=h,g=(r("5198"),Object(d["a"])(m,a,n,!1,null,null,null));e["default"]=g.exports},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-8683be2c.dc3d9518.js.map