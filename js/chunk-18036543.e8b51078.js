(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18036543"],{"3ed4":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-grades"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"370"}},[t._l(t.tableProps,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.propName,label:t.propLabel,width:t.width,align:2==e?"left":"center","class-name":"text-style"}})})),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},nativeOn:{click:function(a){return a.preventDefault(),t.operationAction("Edit",t.tableData[e.$index])}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},nativeOn:{click:function(a){return a.preventDefault(),t.operationAction("Delete",t.tableData[e.$index])}}})]}}])})],2),a("el-dialog",{attrs:{title:"Delete Quiz",visible:t.showDeleteGrade,width:"20%","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px"},on:{"update:visible":function(e){t.showDeleteGrade=e}}},[a("span",[t._v("Are you sure you want to delete?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDeleteGrade=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteData()}}},[t._v("Delete")])],1)]),t.showUpdateQuiz?a("UpdateQuiz",{attrs:{studentData:t.studentData,showUpdateQuiz:t.showUpdateQuiz},on:{updateData:t.updateData,closeUpdateGrade:function(e){return t.closeUpdateGrade(e)}}}):t._e()],1)},n=[],s=[{propName:"SubjectID",propLabel:"Subject",width:"200"},{propName:"GradingPeriod",propLabel:"Grading Period",width:"200"},{propName:"Title",propLabel:"Title",width:"200"},{propName:"Description",propLabel:"Description",width:"120"},{propName:"Score",propLabel:"Score",width:"120"},{propName:"OverAllItems",propLabel:"Over All Items",width:"120"},{propName:"Remarks",propLabel:"Remarks",width:"120"}],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.showUpdateQuiz,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(e){t.showUpdateQuiz=e}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Update Quiz ")]},proxy:!0}])},[a("div",{staticClass:"add-course-content"},[a("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:t.ruleForm,"label-width":"130px","status-icon":"",rules:t.rules}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Quiz Details")]),a("div",{staticClass:"form-item-account-details"},[a("el-form-item",{attrs:{label:"Subject:"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectSubject}},[a("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.currentSubject)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.subjectList,(function(e,r){return a("el-dropdown-item",{key:r,attrs:{command:e}},[t._v(" "+t._s(e.Title)+" ")])})),1)],1)],1),a("el-form-item",{attrs:{label:"Grading Period:"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectGradingPeriod}},[a("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.currentGradingPeriod)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.gradingPeriodList,(function(e,r){return a("el-dropdown-item",{key:r,attrs:{command:e}},[t._v(" "+t._s(e.Title)+" ")])})),1)],1)],1),a("el-form-item",{attrs:{label:"Title:",prop:"currGrade"}},[a("el-input",{attrs:{type:"text"},model:{value:t.studentData.Title,callback:function(e){t.$set(t.studentData,"Title",e)},expression:"studentData.Title"}})],1),a("el-form-item",{attrs:{label:"Description:",prop:"currGrade"}},[a("el-input",{attrs:{type:"text"},model:{value:t.studentData.Description,callback:function(e){t.$set(t.studentData,"Description",e)},expression:"studentData.Description"}})],1),a("el-form-item",{attrs:{label:"Score:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:t.studentData.Score,callback:function(e){t.$set(t.studentData,"Score",e)},expression:"studentData.Score"}})],1),a("el-form-item",{attrs:{label:"Over All Items:",prop:"currGrade"}},[a("el-input",{attrs:{type:"number"},model:{value:t.studentData.OverAllItems,callback:function(e){t.$set(t.studentData,"OverAllItems",e)},expression:"studentData.OverAllItems"}})],1),a("el-form-item",{attrs:{label:"Teacher:"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectTeacher}},[a("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.currentTeacher)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.teacherList,(function(e,r){return a("el-dropdown-item",{key:r,attrs:{command:e}},[t._v(" "+t._s(e.Name)+" ")])})),1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeDialog}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("Update")])],1)])},o=[],c=(a("4de4"),a("a9e3"),a("96cf"),a("1da1")),l={components:{},data:function(){var t=function(t,e,a){""===e?a(new Error("Please input the grade")):a()};return{rules:{currGrade:[{validator:t,trigger:"blur"}]},ruleForm:{StudentID:"",SubjectID:"",GradingPeriod:"",Title:"",Description:"",Score:"",OverAllItems:"",Remarks:"",TeacherID:""},currentTeacher:"",currentSubject:"",currentGradingPeriod:"",currentGrade:"",teacherList:[],subjectList:[],gradingPeriodList:[]}},methods:{closeDialog:function(){this.currentGradingPeriod="---Select---",this.currentTeacher="---Select---",this.currentSubject="---Select---",this.$emit("closeUpdateGrade",!1),this.$emit("updateData"),this.$refs.ruleForm.resetFields()},selectTeacher:function(t){this.currentTeacher=t.Name},selectSubject:function(t){this.currentSubject=t.Title},selectGradingPeriod:function(t){this.currentGradingPeriod=t.Title},save:function(){var t=this;if(""==this.studentData.SubjectID)this.$message({type:"warning",message:"Select Subject!"});else if(""==this.studentData.GradingPeriod)this.$message({type:"warning",message:"Select Grading Period!"});else if(""==this.studentData.Title)this.$message({type:"warning",message:"Enter Title!"});else if(""==this.studentData.Score)this.$message({type:"warning",message:"Enter Score!"});else if(""==this.studentData.OverAllItems)this.$message({type:"warning",message:"Enter Over All Items!"});else if(""==this.studentData.TeacherID)this.$message({type:"warning",message:"Select Teacher!"});else{var e={request:4,data:{ID:this.studentData.ID,StudentID:this.studentData.StudentID,SubjectID:this.parseSubject(this.currentSubject),GradingPeriod:this.parseGrading(this.currentGradingPeriod),Title:this.studentData.Title,Description:this.studentData.Description,Score:this.studentData.Score,OverAllItems:this.studentData.OverAllItems,Remarks:this.computeRemarks(this.studentData),TeacherID:this.parseTeacher(this.currentTeacher)}};this.http.post(this.api.AdminQuizService,e).then((function(e){1==e.data.State?(t.$emit("updateData"),t.$message({type:"success",message:e.data.Message})):t.$message({type:"warning",message:e.data.Message})})).catch((function(t){console.log(t)}))}},computeRemarks:function(t){var e=Number(t.Score),a=Number(t.OverAllItems)/2;return e>=a?"Passed":"Failed"},getAllTeacher:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.TeacherService,e).then((function(e){t.teacherList=e.data,t.currentTeacher=t.teacherList.filter((function(e){if(e.AccountID==t.studentData.TeacherID)return e}))[0].Name})).catch((function(t){console.log(t)}))},getAllSubject:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.SubjectService,e).then((function(e){t.subjectList=e.data})).catch((function(t){console.log(t)}))},getAllGradingPeriod:function(){var t=this,e={request:1,data:{}};this.http.post(this.api.GradingPeriodService,e).then((function(e){t.gradingPeriodList=e.data})).catch((function(t){console.log(t)}))},parseTeacher:function(t){var e=this.teacherList.filter((function(e){if(e.Name==t)return e}))[0].AccountID;return e},parseSubject:function(t){var e=this.subjectList.filter((function(e){if(e.Title==t)return e}))[0].ID;return e},parseGrading:function(t){var e=this.gradingPeriodList.filter((function(e){if(e.Title==t)return e}))[0].ID;return e}},props:{showUpdateQuiz:{type:Boolean,default:!1},studentData:{type:Object,default:function(){return{}}}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAllTeacher();case 2:return e.next=4,t.getAllSubject();case 4:return e.next=6,t.getAllGradingPeriod();case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){console.log(this.studentData),this.currentSubject=this.studentData.SubjectID,this.currentGradingPeriod=this.studentData.GradingPeriod}},u=l,d=(a("83b4"),a("2877")),p=Object(d["a"])(u,i,o,!1,null,null,null),h=p.exports,m={components:{UpdateQuiz:h},data:function(){return{tableProps:s,studentData:{},showDeleteGrade:!1,showUpdateQuiz:!1}},methods:{operationAction:function(t,e){switch(this.studentData={},this.studentData=e,t){case"Edit":this.showUpdateQuiz=!0;break;case"Delete":this.showDeleteGrade=!0;break;default:console.log("Invalid Option")}},deleteData:function(){var t=this,e={request:5,data:{ID:this.studentData.ID}};this.http.post(this.api.AdminQuizService,e).then((function(e){1==e.data.State?(t.showDeleteGrade=!1,t.$emit("updateData"),t.$message({type:"success",message:e.data.Message})):t.$message({type:"warning",message:e.data.Message})})).catch((function(t){console.log(t)}))},updateData:function(){this.$emit("updateData")},closeUpdateGrade:function(t){this.showUpdateQuiz=t}},props:{tableData:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){}},f=m,g=(a("4f8a"),Object(d["a"])(f,r,n,!1,null,null,null));e["default"]=g.exports},"4f8a":function(t,e,a){"use strict";a("d62e")},"83b4":function(t,e,a){"use strict";a("e7c9")},d62e:function(t,e,a){},e7c9:function(t,e,a){}}]);
//# sourceMappingURL=chunk-18036543.e8b51078.js.map