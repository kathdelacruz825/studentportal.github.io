(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66f73004"],{"042e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home admin-theme-main"},[s("div",{staticClass:"home-wrapper"},[s("el-container",[s("el-header",[s("Header")],1),s("el-container",[s("el-aside",{attrs:{width:"200px"}},[s("Aside",{on:{selectTabContent:e.selectTabContent}})],1),s("el-container",[s("el-main",[s("Main",{attrs:{tabContent:e.currTabContent}})],1)],1)],1)],1)],1)])},a=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[e._m(0),s("div",{staticClass:"header-right"},[s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectAction}},[s("span",{staticClass:"el-dropdown-link"},[s("el-avatar",{attrs:{size:40,src:e.userDetails.Icon},on:{error:e.errorHandler}},[s("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:0}},[e._v("Edit Account")]),s("el-dropdown-item",{attrs:{command:1}},[e._v("Change Password")]),s("el-dropdown-item",{attrs:{command:2}},[e._v("Log out")])],1)],1)],1),e.showUpdateUser?s("UpdateAccount",{attrs:{showUpdateUser:e.showUpdateUser,userData:e.userDetails},on:{CloseUpdateUser:function(t){return e.CloseUpdateUser(t)}}}):e._e(),e.showUpdatePass?s("UpdatePassword",{attrs:{showUpdatePass:e.showUpdatePass,userData:e.userDetails},on:{successUpdate:function(t){return e.successUpdate(t)},closePassword:function(t){return e.closePassword(t)}}}):e._e(),s("el-dialog",{attrs:{title:"System Info",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[s("span",[e._v("Password successfully changed, please log in again")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.logout()}}},[e._v("Confirm")])],1)])],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-left"},[s("h3",[e._v("Student Portal Administrator")])])}],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"Update Account",visible:e.showUpdateUser,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"600px"},on:{"update:visible":function(t){e.showUpdateUser=t},close:e.closeDialog}},[s("div",{staticClass:"add-student-content"},[s("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:e.ruleForm,"label-width":"130px","status-icon":"",rules:e.rules}},[s("div",{staticClass:"form-item-account-details admin-update"},[s("div",{staticClass:"detail-row1"},[s("div",{staticClass:"icon"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","auto-upload":!1,"show-file-list":!1,"list-type":"picture-card","on-change":e.handleAvatarSuccess}},[e.ruleForm.Icon?s("img",{staticClass:"avatar",attrs:{width:"148",height:"148",src:e.ruleForm.Icon}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),s("div",{staticClass:"detail-row2"},[s("el-form-item",{attrs:{label:"Last Name:",prop:"LastName"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.LastName,callback:function(t){e.$set(e.ruleForm,"LastName",t)},expression:"ruleForm.LastName"}})],1),s("el-form-item",{attrs:{label:"First Name:",prop:"FirstName"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.FirstName,callback:function(t){e.$set(e.ruleForm,"FirstName",t)},expression:"ruleForm.FirstName"}})],1),s("el-form-item",{attrs:{label:"Middle Name:",prop:"MiddleName"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.MiddleName,callback:function(t){e.$set(e.ruleForm,"MiddleName",t)},expression:"ruleForm.MiddleName"}})],1),s("el-form-item",{attrs:{label:"Extension Name:",prop:"ExtName"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.ExtName,callback:function(t){e.$set(e.ruleForm,"ExtName",t)},expression:"ruleForm.ExtName"}})],1)],1)])])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("Close")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)])},l=[],c=(s("4de4"),s("d3b7"),{components:{},data:function(){var e=function(e,t,s){""===t?s(new Error("Please input the account ID")):s()},t=function(e,t,s){""===t?s(new Error("Please input the account name")):s()},s=function(e,t,s){""===t?s(new Error("Please input the password")):s()},n=function(e,t,s){""===t?s(new Error("Please input the last name")):s()},a=function(e,t,s){""===t?s(new Error("Please input the first name")):s()},o=function(e,t,s){""===t?s(new Error("Please input the middle name")):s()};return{rules:{AccountID:[{validator:e,trigger:"blur"}],AccountName:[{validator:t,trigger:"blur"}],AccountPassword:[{validator:s,trigger:"blur"}],LastName:[{validator:n,trigger:"blur"}],FirstName:[{validator:a,trigger:"blur"}],MiddleName:[{validator:o,trigger:"blur"}]},ruleForm:{AccountID:"",AccountName:"",AccountPassword:"",LastName:"",FirstName:"",MiddleName:"",ExtName:"",Role:"",AccountStatus:1,Icon:""},fileList:[],typeList:[],currType:"---Select---"}},methods:{closeDialog:function(){this.updateData(),this.$emit("CloseUpdateUser",!1)},submitUpload:function(){this.$refs.upload.submit()},save:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var s={request:5,data:{ID:e.ruleForm.ID,LastName:e.ruleForm.LastName,FirstName:e.ruleForm.FirstName,MiddleName:e.ruleForm.MiddleName,ExtName:e.ruleForm.ExtName,Icon:e.ruleForm.Icon}};e.http.post(e.api.UserService,s).then((function(t){1==t.data.State?e.$message({type:"success",message:t.data.Message}):e.$message({type:"danger",message:t.data.Message})})).catch((function(t){e.$message({type:"danger",message:"Connection Error!"}),console.log(t)}))}))},getRole:function(){var e=this,t={request:3,data:{}};this.http.post(this.api.UserService,t).then((function(t){e.typeList=t.data})).catch((function(e){console.log(e)}))},selectAccType:function(e){this.currType=e.Role},parseRole:function(e){return this.typeList.filter((function(t){return t.Role==e}))},handleAvatarSuccess:function(e){var t=this;this.getBase64(e.raw).then((function(e){t.ruleForm.Icon=e}))},getBase64:function(e){return new Promise((function(t,s){var n=new FileReader,a="";n.readAsDataURL(e),n.onload=function(){a=n.result},n.onerror=function(e){s(e)},n.onloadend=function(){t(a)}}))},updateData:function(){this.$emit("updateData")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e),console.log(this.fileList)},resetFields:function(){this.$refs.ruleForm.resetFields(),this.ruleForm.ExtName="",this.ruleForm.Icon="",this.ruleForm.Role="",this.ruleForm.AccountStatus=1,this.currType="---Select---"}},props:{showUpdateUser:{type:Boolean,default:!1},userData:{type:Object,default:function(){return{}}}},created:function(){this.getRole()},mounted:function(){this.ruleForm=this.userData,this.currType=this.userData.Role}}),u=c,d=(s("47f9"),s("2877")),m=Object(d["a"])(u,i,l,!1,null,null,null),f=m.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"Update Password",visible:e.showUpdatePass,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,top:"50px",width:"500px"},on:{"update:visible":function(t){e.showUpdatePass=t},close:e.closeDialog}},[s("div",{staticClass:"add-student-content"},[s("el-form",{ref:"ruleForm",staticClass:"add-dialog-form",attrs:{"label-position":"left",model:e.ruleForm,"label-width":"150px","status-icon":"",rules:e.rules}},[s("div",{staticClass:"form-item-account-details admin-update"},[s("div",{staticClass:"detail-row2"},[s("el-form-item",{attrs:{label:"Old Password:",prop:"oldPass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.oldPass,callback:function(t){e.$set(e.ruleForm,"oldPass",t)},expression:"ruleForm.oldPass"}})],1),s("el-form-item",{attrs:{label:"New Password:",prop:"newPass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.newPass,callback:function(t){e.$set(e.ruleForm,"newPass",t)},expression:"ruleForm.newPass"}})],1),s("el-form-item",{attrs:{label:"Confirm Password:",prop:"confirmPass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.confirmPass,callback:function(t){e.$set(e.ruleForm,"confirmPass",t)},expression:"ruleForm.confirmPass"}})],1)],1)])])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("Close")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)])},h=[],g={components:{},data:function(){var e=function(e,t,s){""===t?s(new Error("Please input the current password")):s()},t=function(e,t,s){""===t?s(new Error("Please input new password")):s()},s=function(e,t,s){""===t?s(new Error("Please input the confirm password")):s()};return{rules:{oldPass:[{validator:e,trigger:"blur"}],newPass:[{validator:t,trigger:"blur"}],confirmPass:[{validator:s,trigger:"blur"}]},ruleForm:{oldPass:"",newPass:"",confirmPass:""},fileList:[],typeList:[],currType:"---Select---",userDetails:{}}},methods:{closeDialog:function(){this.updateData(),this.$emit("closePassword",!1)},submitUpload:function(){this.$refs.upload.submit()},save:function(){var e=this;if(""==this.ruleForm.oldPass)this.$message({type:"danger",message:"Please input the current password"});else if(""==this.ruleForm.newPass)this.$message({type:"danger",message:"Please input new password"});else if(""==this.ruleForm.confirmPass)this.$message({type:"danger",message:"Please input confirm password"});else if(this.ruleForm.newPass!=this.ruleForm.confirmPass)this.$message({type:"danger",message:"New password does not match!"});else{var t={request:6,data:{ID:this.userDetails.ID,currPassword:this.ruleForm.oldPass,newPass:this.ruleForm.newPass}};this.http.post(this.api.UserService,t).then((function(t){1==t.data.State?(e.ruleForm.oldPass="",e.ruleForm.newPass="",e.ruleForm.confirmPass="",e.$emit("successUpdate",!0)):e.$message({type:"danger",message:t.data.Message})})).catch((function(t){e.$message({type:"danger",message:"Connection Error!"}),console.log(t)}))}},getRole:function(){var e=this,t={request:3,data:{}};this.http.post(this.api.UserService,t).then((function(t){e.typeList=t.data})).catch((function(e){console.log(e)}))},selectAccType:function(e){this.currType=e.Role},parseRole:function(e){return this.typeList.filter((function(t){return t.Role==e}))},handleAvatarSuccess:function(e){var t=this;this.getBase64(e.raw).then((function(e){t.ruleForm.Icon=e}))},getBase64:function(e){return new Promise((function(t,s){var n=new FileReader,a="";n.readAsDataURL(e),n.onload=function(){a=n.result},n.onerror=function(e){s(e)},n.onloadend=function(){t(a)}}))},updateData:function(){this.$emit("updateData")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e),console.log(this.fileList)},resetFields:function(){this.$refs.ruleForm.resetFields(),this.ruleForm.ExtName="",this.ruleForm.Icon="",this.ruleForm.Role="",this.ruleForm.AccountStatus=1,this.currType="---Select---"}},props:{showUpdatePass:{type:Boolean,default:!1},userData:{type:Object,default:function(){return{}}}},created:function(){this.getRole(),this.userDetails=JSON.parse(localStorage.getItem("user"))},mounted:function(){}},v=g,b=(s("4773"),Object(d["a"])(v,p,h,!1,null,null,null)),w=b.exports,F={name:"Header",components:{UpdateAccount:f,UpdatePassword:w},data:function(){return{userDetails:{},showUpdateUser:!1,showUpdatePass:!1,centerDialogVisible:!1}},methods:{errorHandler:function(){return!0},selectAction:function(e){0==e?this.showUpdateUser=!0:1==e?this.showUpdatePass=!0:this.logout()},logout:function(){this.$store.dispatch("setLogin",!1),localStorage.removeItem("user"),this.$router.push({name:"AdminLogin"})},CloseUpdateUser:function(e){this.showUpdateUser=e},closePassword:function(e){this.showUpdatePass=e},successUpdate:function(e){this.centerDialogVisible=e}},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))}},P=F,y=(s("0b6c"),Object(d["a"])(P,o,r,!1,null,null,null)),U=y.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":""+e.activeTab,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.tabItems[e.userDetails.Role],(function(t,n){return s("el-menu-item",{key:n,attrs:{index:""+n},on:{click:function(s){return e.selectTabContent(t.name)}}},[s("i",{class:t.icon}),s("span",[e._v(e._s("Grades"==t.name?"Student Record":t.name))])])})),1)],1)},D=[],N={name:"Aside",components:{},data:function(){return{activeTab:"0",tabItems:{1:[{name:"Dashboard",icon:"el-icon-data-analysis"},{name:"Students",icon:"el-icon-user"},{name:"Parents",icon:"el-icon-s-custom"},{name:"Announcements",icon:"el-icon-date"},{name:"Grades",icon:"el-icon-medal-1"},{name:"Messages",icon:"el-icon-message"},{name:"Settings",icon:"el-icon-setting"}],2:[{name:"Dashboard",icon:"el-icon-data-analysis"},{name:"Students",icon:"el-icon-user"},{name:"Parents",icon:"el-icon-s-custom"},{name:"Announcements",icon:"el-icon-date"},{name:"Grades",icon:"el-icon-medal-1"},{name:"Messages",icon:"el-icon-message"},{name:"Settings",icon:"el-icon-setting"}],3:[{name:"Dashboard",icon:"el-icon-data-analysis"},{name:"Grades",icon:"el-icon-medal-1"},{name:"Messages",icon:"el-icon-message"}]}}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},selectTabContent:function(e){this.$emit("selectTabContent",e)}},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))}},x=N,A=(s("ed8f"),Object(d["a"])(x,C,D,!1,null,null,null)),$=A.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s(e.tabContent,{tag:"component"})],1)},E=[],_={components:{Dashboard:function(e){s.e("chunk-293355d6").then(function(){var t=[s("6bfd")];e.apply(null,t)}.bind(this)).catch(s.oe)},Students:function(e){s.e("chunk-29387349").then(function(){var t=[s("e94d")];e.apply(null,t)}.bind(this)).catch(s.oe)},Parents:function(e){s.e("chunk-a9269eb8").then(function(){var t=[s("ceb0")];e.apply(null,t)}.bind(this)).catch(s.oe)},Announcements:function(e){s.e("chunk-956abe9a").then(function(){var t=[s("bf63")];e.apply(null,t)}.bind(this)).catch(s.oe)},Grades:function(e){s.e("chunk-11a877be").then(function(){var t=[s("270e")];e.apply(null,t)}.bind(this)).catch(s.oe)},Messages:function(e){s.e("chunk-f39dec9c").then(function(){var t=[s("9649")];e.apply(null,t)}.bind(this)).catch(s.oe)},Settings:function(e){s.e("chunk-d8633c78").then(function(){var t=[s("d394")];e.apply(null,t)}.bind(this)).catch(s.oe)}},data:function(){return{}},methods:{},props:{tabContent:{type:String,default:"Dashboard"}},created:function(){}},k=_,I=(s("c115"),Object(d["a"])(k,S,E,!1,null,null,null)),L=I.exports,R={name:"Home",components:{Header:U,Aside:$,Main:L},data:function(){return{currTabContent:"Dashboard"}},methods:{selectTabContent:function(e){this.currTabContent=e}}},T=R,M=(s("b835"),Object(d["a"])(T,n,a,!1,null,null,null));t["default"]=M.exports},"0b6c":function(e,t,s){"use strict";s("11fa")},"11fa":function(e,t,s){},"1dde":function(e,t,s){var n=s("d039"),a=s("b622"),o=s("2d00"),r=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],s=t.constructor={};return s[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"252a":function(e,t,s){},"2a75":function(e,t,s){},4773:function(e,t,s){"use strict";s("868e")},"47f9":function(e,t,s){"use strict";s("e381")},"4de4":function(e,t,s){"use strict";var n=s("23e7"),a=s("b727").filter,o=s("1dde"),r=s("ae40"),i=o("filter"),l=r("filter");n({target:"Array",proto:!0,forced:!i||!l},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,s){var n=s("861d"),a=s("e8b5"),o=s("b622"),r=o("species");e.exports=function(e,t){var s;return a(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?n(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},"868e":function(e,t,s){},b727:function(e,t,s){var n=s("0366"),a=s("44ad"),o=s("7b0b"),r=s("50c4"),i=s("65f0"),l=[].push,c=function(e){var t=1==e,s=2==e,c=3==e,u=4==e,d=6==e,m=7==e,f=5==e||d;return function(p,h,g,v){for(var b,w,F=o(p),P=a(F),y=n(h,g,3),U=r(P.length),C=0,D=v||i,N=t?D(p,U):s||m?D(p,0):void 0;U>C;C++)if((f||C in P)&&(b=P[C],w=y(b,C,F),e))if(t)N[C]=w;else if(w)switch(e){case 3:return!0;case 5:return b;case 6:return C;case 2:l.call(N,b)}else switch(e){case 4:return!1;case 7:l.call(N,b)}return d?-1:c||u?u:N}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b835:function(e,t,s){"use strict";s("fc17")},c115:function(e,t,s){"use strict";s("252a")},e381:function(e,t,s){},e8b5:function(e,t,s){var n=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ed8f:function(e,t,s){"use strict";s("2a75")},fc17:function(e,t,s){}}]);
//# sourceMappingURL=chunk-66f73004.778b4078.js.map