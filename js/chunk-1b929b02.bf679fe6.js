(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b929b02"],{"0624":function(e,t,r){"use strict";r("2567")},"08d4":function(e,t,r){},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),s=r("2d00"),i=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2567:function(e,t,r){},"4de4":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").filter,s=r("1dde"),i=r("ae40"),o=s("filter"),u=i("filter");n({target:"Array",proto:!0,forced:!o||!u},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),s=r("b622"),i=s("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"71a8":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav"},[r("van-nav-bar",{attrs:{title:e.title,"left-text":e.isLeftArrow?"Back":"","right-text":e.isRightText?"Logout":"","left-arrow":e.isLeftArrow},on:{"click-left":e.onClickLeft,"click-right":e.logout}})],1)},a=[],s={name:"Nav",components:{},data:function(){return{}},props:{title:{type:String,default:""},isLeftArrow:{type:Boolean,default:!1},isRightText:{type:Boolean,default:!1}},methods:{onClickLeft:function(){this.$router.go(-1)},logout:function(){this.$router.push({name:"UserLogin"})}}},i=s,o=(r("dcff"),r("2877")),u=Object(o["a"])(i,n,a,!1,null,null,null);t["a"]=u.exports},ae40:function(e,t,r){var n=r("83ab"),a=r("d039"),s=r("5135"),i=Object.defineProperty,o={},u=function(e){throw e};e.exports=function(e,t){if(s(o,e))return o[e];t||(t={});var r=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,l=s(t,0)?t[0]:u,f=s(t,1)?t[1]:void 0;return o[e]=!!r&&!a((function(){if(c&&!n)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,f)}))}},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,s=Function.prototype,i=s.toString,o=/^\s*function ([^ (]*)/,u="name";n&&!(u in s)&&a(s,u,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},b727:function(e,t,r){var n=r("0366"),a=r("44ad"),s=r("7b0b"),i=r("50c4"),o=r("65f0"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(v,m,h,D){for(var b,g,x=s(v),y=a(x),L=n(m,h,3),C=i(y.length),w=0,A=D||o,N=t?A(v,C):r||d?A(v,0):void 0;C>w;w++)if((p||w in y)&&(b=y[w],g=L(b,w,x),e))if(t)N[w]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:u.call(N,b)}else switch(e){case 4:return!1;case 7:u.call(N,b)}return f?-1:c||l?l:N}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,s=r("1dde"),i=r("ae40"),o=s("map"),u=i("map");n({target:"Array",proto:!0,forced:!o||!u},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},dcff:function(e,t,r){"use strict";r("08d4")},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},eac3:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-info user-home"},[r("Nav",{attrs:{title:"Edit Information",isLeftArrow:!0,isRightText:!1}}),r("van-form",{on:{submit:e.update}},[r("div",[r("van-divider",[e._v("Personal Details")]),r("van-field",{attrs:{name:"Last Name",label:"Last Name",type:"text",placeholder:"Enter last name",rules:[{required:!0,message:"Last name is required"}]},model:{value:e.userDetails.LastName,callback:function(t){e.$set(e.userDetails,"LastName",t)},expression:"userDetails.LastName"}}),r("van-field",{attrs:{name:"First Name",label:"First Name",type:"text",placeholder:"Enter first name",rules:[{required:!0,message:"First name is required"}]},model:{value:e.userDetails.FirstName,callback:function(t){e.$set(e.userDetails,"FirstName",t)},expression:"userDetails.FirstName"}}),r("van-field",{attrs:{name:"Middle Name",label:"Middle Name",type:"text",placeholder:"Enter middle name",rules:[{required:!0,message:"Middle name is required"}]},model:{value:e.userDetails.MiddleName,callback:function(t){e.$set(e.userDetails,"MiddleName",t)},expression:"userDetails.MiddleName"}}),r("van-field",{attrs:{name:"Extension Name",label:"Extension Name",type:"text",placeholder:"Enter extension name",rules:[{required:!1}]},model:{value:e.userDetails.ExtName,callback:function(t){e.$set(e.userDetails,"ExtName",t)},expression:"userDetails.ExtName"}}),r("van-field",{attrs:{name:"Phone Number",label:"Phone Number",type:"number",placeholder:"Enter phone number",rules:[{required:!1}]},model:{value:e.userDetails.PhoneNumber,callback:function(t){e.$set(e.userDetails,"PhoneNumber",t)},expression:"userDetails.PhoneNumber"}}),r("van-field",{attrs:{name:"Email",label:"Email",type:"email",placeholder:"Enter email",rules:[{required:!1}]},model:{value:e.userDetails.Email,callback:function(t){e.$set(e.userDetails,"Email",t)},expression:"userDetails.Email"}}),"1"==e.userDetails.AccountType?r("van-divider",[e._v("School Details")]):e._e(),"1"==e.userDetails.AccountType?r("van-cell",{attrs:{title:"Course","is-link":"",value:e.currentCourse},on:{click:function(t){e.showCourse=!0}}}):e._e(),"1"==e.userDetails.AccountType?r("van-cell",{attrs:{title:"Year Level","is-link":"",value:e.currentYearLevel},on:{click:function(t){e.show=!0}}}):e._e(),"1"==e.userDetails.AccountType?r("van-action-sheet",{attrs:{actions:e.courseActions,"cancel-text":"Cancel",description:"Select Course","close-on-click-action":""},on:{select:e.selectCourse},model:{value:e.showCourse,callback:function(t){e.showCourse=t},expression:"showCourse"}}):e._e(),"1"==e.userDetails.AccountType?r("van-action-sheet",{attrs:{actions:e.yearLevelActions,"cancel-text":"Cancel",description:"Select Year Level","close-on-click-action":""},on:{select:e.selectYearLevel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}):e._e()],1),r("div",{staticStyle:{margin:"26px 16px"}},[r("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(" Update ")])],1)])],1)},a=[],s=(r("4de4"),r("d81d"),r("b0c0"),r("96cf"),r("1da1")),i=r("71a8"),o=r("d399"),u={name:"Settings",components:{Nav:i["a"]},data:function(){return{userDetails:{},show:!1,showCourse:!1,yearLevelActions:[],currentYearLevel:"",courseActions:[],currentCourse:""}},methods:{update:function(){var e=this,t={request:"1"==this.userDetails.AccountType?12:4,data:this.userDetails};this.http.post("1"==this.userDetails.AccountType?this.api.AdminService:this.api.ParentService,t).then((function(t){1==t.data[0].State&&(e.getStudent(),Object(o["a"])(t.data[0].Message))})).catch((function(e){console.log(e)}))},getStudent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={request:"1"==e.userDetails.AccountType?10:13,data:{ID:e.userDetails.ID}},t.next=3,e.http.post("1"==e.userDetails.AccountType?e.api.StudentService:e.api.ParentService,r).then((function(t){e.$store.dispatch("setUserDetails",t.data[0]),localStorage.setItem("user",JSON.stringify(t.data[0]))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},selectYearLevel:function(e){this.currentYearLevel=e.name,this.userDetails.YearLevel=e.id},selectCourse:function(e){this.currentCourse=e.name,this.userDetails.Course=e.id},getAllCourse:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={request:1,data:{}},t.next=3,e.http.post(e.api.CourseService,r).then((function(t){t.data.map((function(t){var r={};r.id=t.ID,r.name=t.CourseID,r.nameDescription=t.CourseDescription,r.status=t.CourseStatus,e.courseActions.push(r)})),e.userDetails.Course=t.data.filter((function(t){if(t.CourseID==e.userDetails.Course)return t}))[0].ID,e.currentCourse=t.data.filter((function(t){if(t.ID==e.userDetails.Course)return t}))[0].CourseID})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getAllYearLevel:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={request:1,data:{}},t.next=3,e.http.post(e.api.YearLevelService,r).then((function(t){t.data.map((function(t){var r={};r.id=t.ID,r.name=t.YearLevel,r.status=t.YearLevelStatus,e.yearLevelActions.push(r)})),e.userDetails.YearLevel=t.data.filter((function(t){if(t.YearLevel==e.userDetails.YearLevel)return t}))[0].ID,e.currentYearLevel=t.data.filter((function(t){if(t.ID==e.userDetails.YearLevel)return t}))[0].YearLevel})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}},computed:{},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))},mounted:function(){"1"==this.userDetails.AccountType&&(this.getAllCourse(),this.getAllYearLevel())}},c=u,l=(r("0624"),r("2877")),f=Object(l["a"])(c,n,a,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1b929b02.bf679fe6.js.map