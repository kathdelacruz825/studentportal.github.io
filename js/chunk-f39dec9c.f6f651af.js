(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f39dec9c"],{"00a8":function(e,s,t){"use strict";t("e8a0")},9649:function(e,s,t){"use strict";t.r(s);var c=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"messages"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:7}},[t("div",{staticClass:"grid-content bg-purple message-f-f"},[t("div",{staticClass:"message-list"},[t("div",{staticClass:"list-header"},[e._v("Message List")]),t("div",{staticClass:"list-body"},[t("ul",e._l(e.messagesFromList,(function(s,c){return t("li",{key:c,on:{click:function(t){return e.getAllMessageFrom(s.FromUserID,s.FirstName,s.FromUserID)}}},[t("el-image",{staticStyle:{width:"40px",height:"40px",border:"1px solid #ccc","border-radius":"50%"},attrs:{src:s.Icon,fit:"cover"}}),t("span",[e._v(e._s(s.FirstName+" "+s.MiddleName+" "+s.LastName))])],1)})),0)])])])]),t("el-col",{attrs:{span:17}},[t("div",{staticClass:"grid-content bg-purple"},[t("div",{staticClass:"body-message"},[t("div",{staticClass:"name"},[t("h4",[e._v(e._s(e.messageFromName))])]),t("div",{staticClass:"body-message-wrapper"},[t("div",{staticClass:"messages-list"},[e.messages.length>0?t("ul",{staticClass:"chat-wrapper"},e._l(e.messages,(function(s,c){return t("li",{key:c,staticClass:"messages-item",class:s.ToUserID==e.userDetails.AccountID?"pos-left":"pos-right"},[t("div",{staticClass:"messages-item-wrapper"},[t("p",[e._v(e._s(s.Message))]),t("div",{staticClass:"dt"},[t("span",[e._v(e._s(s.TimeStamp.split(" ")[0]))]),t("span",[e._v(e._s(s.TimeStamp.split(" ")[1]+" "+s.TimeStamp.split(" ")[2]))])])])])})),0):e._e()])])]),t("div",{staticClass:"footer-message"},[t("div",{staticClass:"input-f"},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Please input message"},model:{value:e.message,callback:function(s){e.message=s},expression:"message"}})],1),t("div",{staticClass:"button-f"},[t("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC6FBMVEX////+/v79/f3c3Nza2trb29ve3t7d3d38+/zX19f6+vra2tra2tra2tra2tra2tra2tra2tra2tra2tra2trb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nze3t7d3d3d3d3c3Nzc3Nzc3Nzc3Nze3t7e3t7e3t7c3Nzc3Nzc3Nzc3Nze3t7e3t7c3Nzc3Nze3t7e3t7c3Nzc3Nzc3Nzc3Nzd3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nze3t7X19fc3Nzc3Nze3t7c3Nzc3Nzc3Nze3t7c3Nzc3Nze3t7X19fc3Nzc3NzX19fc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3d3d3c3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzd3d3d3d3d3d3c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nza2trb29vc3Nzd3d3e3t7X19f////1XJ3wAAAA8XRSTlMAAAAAAAAAAAAAAAFClbinP0DN/DYqs2odnf0/EIj2/g8Gc+vdAlzhrUjOfTK8TCKm/hsUkPnqCnvwugRl5opR1Vk5xSmu9AMZmfvi9ccOhNSXBm7rZgHb1jTuNkLM2L78CTC32Rp1HqL92qMTjPjcHHMJdu/dHZJDAmLh3h5GE0vU4B84vyGxJKv+Y4AXlfrj81AMf+QlyCBq5+UmflQnNz/ojhuy6SqcXg7bKy1lLuz3Vy/LBrZsmwJY9msYw+8zzzpwxnRBI3jPEKgmfdTxpXcrgNg7WkepPcB4tjERSfhg8qRik9+fVnFXds0+0m2hZzI+ugAAAAFiS0dEAIgFHUgAAAAHdElNRQfkChAJNi2YukqFAAAAAW9yTlQBz6J3mgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMC0xNlQwOTo1NDo0NSswMDowMJSX2J4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTAtMTZUMDk6NTQ6NDMrMDA6MDCGGlUYAAADtElEQVRYw+3WZ1gTMRgHcDAW3HvvhRMHVZGCyhBFLYoyqqAyHeAE90bFgQMXDsQ9cU8UVATFvXHvvbeS1s+m7dVe75LrXe/weXye/j9xIe+PkKZvzsbGGmus+XexRSlEi/ZZMhwwIuG6CzNSEHTxEiVLlS5TEHTZcr9QyleQkJbpUrFSvj6VJaarVK1GyfnVRVDMEyGT1ahZywDn164j4qQw6br16ucb00AmGe3QsBGkp7GY820iN2kKTdNMItqxOWSmhSR0y1ZOLBnKJaBbt2nLhqGzqF6iq2vnooC4uAqiATtu7TtAfDqKpN09ICmeomivTpAcbxG0d2cOGHbxsZju2q07i1P6Gn/uIey2MU7u6deFvdBerrSH3pbR/gGBmC3wCKA/BVlCqzz74Da3b3AI/bEfP9pOF3sUNK//AOzHFioPoz+GRwimI6PwB2LgoMGm+w4E0kOiY/DyUHmkaR8ZJowePmIk4RCPio1gfC3jhNCjx4xVq/HyuPFgAmNoIn960uQpajWBnjoNTGf263je9IyZGg2JnpUA4pntTwkIdCEGPXuORkOkG80FgNVN5pHoIsCuqPEXifMXqPXBrVnZEoCFrNFFJLoYjU5avASqyfTSRPS3l7GGl5unk1doy8j0ylXoolnNHk8xR7utSdVNJNJr16FZ69lyCOCmVRsMbYhEp25EdZvYfRuGcdObe/ydSaC3aO+oZFwb3MpFb9tOm4mnd6Rpy3bijs0uDnr3HmiOdt6rrXLHyXAfB73/tzna+YC2qOtBnHzIjYM+bI4OPKK7cKKwi04HHPTRY9z0wUhdTQZWhplctN3xE2HhZDrEUVeSdhJPZ3HS6FyfysiOwdM5p3UV/mfwMsw1R6PEnj3nxKYVwfqKjgQ5JplM0ztfwvl0Bq2g3gMuEO5JGAr40SgXL12m0Qov/egVJUGGVzlo5lVgb3/t+g2KvmnYyDySDG9x0LYsGuX2nbuobNk9avp9ogwfcNA2OBpl88OcR4aPIIdMJ1lAo/NGTfZ5TJY7AItoQ56QZfhUFP2sLQftJ4p+HjeKTG8QtyHA4cW8lwQ6UQjNDPWdeRW1BCO/VomiVbn6pcUH0fojlWwgin6D3m2i387Vlhn7I5V34mhKef/ho/a/j/20mvaiel8SGuWzvjjly1dqwDlCIjr829/6VS7f0YDvdCAN7dTehNgXkCUHEtFnAa9YQLvwky2g/XjKwuk2fGXBdKaqoOg8H96yIPqH8qcAWXjn+99oa6yxpoDzB32sVcYsHekFAAAAWmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAAhMAAwAAAAEAAQAAAAAAAAAAAEgAAAABAAAASAAAAAEfUvc0AAAAAElFTkSuQmCC",fit:"cover"},on:{click:function(s){return e.setMessageBy()}}})],1)])])])],1)],1)},a=[],A={components:{},data:function(){return{message:"",messagesFromList:[],messages:[],userDetails:{},messageFromName:"",messageFromID:"",timeInterval:null}},methods:{getMessageFrom:function(){var e=this,s={request:6,data:{ToUserID:this.userDetails.AccountID}};this.http.post(this.api.MessageService,s).then((function(s){e.messagesFromList=s.data})).catch((function(e){console.log(e)}))},getAllMessageFrom:function(e,s,t){var c=this;this.messageFromID=e,this.messageFromName=s,this.messages=[];var a={request:2,data:{ToUserID:this.userDetails.AccountID,FromUserID:t}};this.http.post(this.api.MessageService,a).then((function(e){c.messages=e.data,c.messages.length>0&&c.scrollToBottom()})).catch((function(e){console.log(e)})),this.timeInterval=setInterval((function(){c.http.post(c.api.MessageService,a).then((function(e){c.messages=e.data,c.messages.length>0&&c.scrollToBottom()})).catch((function(e){console.log(e)}))}),6e3)},getAllMessageFromRefresh:function(e){var s=this;this.messages=[];var t={request:2,data:{ToUserID:this.userDetails.AccountID,FromUserID:e}};this.http.post(this.api.MessageService,t).then((function(e){s.messages=e.data,s.messages.length>0&&s.scrollToBottom()})).catch((function(e){console.log(e)}))},setMessageBy:function(){var e=this;if(this.message){var s={request:3,data:{ToUserID:this.messageFromID,FromUserID:this.userDetails.AccountID,Message:this.message,TimeStamp:this.createTime(),Status:1}};this.http.post(this.api.MessageService,s).then((function(s){1==s.data.State&&(e.message="",e.getAllMessageFromRefresh(e.messageFromID))})).catch((function(e){console.log(e)}))}},scrollToBottom:function(){var e=document.querySelector(".chat-wrapper"),s=e.scrollHeight;e.scrollTop=s},createTime:function(){var e=new Date,s=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate()),t=e.getHours()<10?"0"+e.getHours():e.getHours(),c=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),A=e.getHours()<13?"AM":"PM",N=s+" "+t+":"+c+":"+a+" "+A;return N}},props:{},updated:function(){this.messages.length>0&&this.scrollToBottom()},created:function(){this.userDetails=JSON.parse(localStorage.getItem("user"))},mounted:function(){this.getMessageFrom(),clearInterval(this.timeInterval)},destroyed:function(){clearInterval(this.timeInterval)}},N=A,z=(t("00a8"),t("2877")),i=Object(z["a"])(N,c,a,!1,null,null,null);s["default"]=i.exports},e8a0:function(e,s,t){}}]);
//# sourceMappingURL=chunk-f39dec9c.f6f651af.js.map